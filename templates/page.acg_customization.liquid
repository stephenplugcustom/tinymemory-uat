<style>
    .site-footer{
      display: none;
      }
      .shopify_cart_icon_mobile {
        width: 65px;
        height: 65px;
        margin-top: 45px;
        margin-right: 50px;
        
    }
    </style>
    
    <head>
        <meta name="viewport" content="maximum-scale=1.0, user-scalable=no" />
        <meta charset="utf-8">
        <script src="https://unpkg.com/konva@9.2.0/konva.min.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Combo&family=Comforter+Brush&family=Rubik+Puddles&display=swap" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">  
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link href="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/assets/css/styles.css" rel="stylesheet">
    </head>
    <body  class="mt-1 invisible align-items-center" style="background-color: rgba(197, 195, 195, 0.876);touch-action: manipulation;" >
    
    <h1 id="product_info" class="mobile text-center" style="color: white; font-size: 50px;"></h1>
    <size    id="mobile_size_picker" class="mobile d-flex   align-items-center justify-content-center ">  
    </size>
    <div id="cd" class="ms-auto">
        <main  id="main" class="d-flex align-items-center justify-content-center">
            <div  id="canvas">
            </div>
        </main>
    
        <panle  class="desktop align-items-center w-50 m-4 p-4" style="background-color: white;">
            <span  class="d-flex d-inline-block desktop" style="height: min-content;">
                <h1  id="product_title" class="desktop d-inline-block my-0" id="product_title" style="font-size: 10vm;"></h1>
            </span>
            <h1 id="product_info_d"  style="color: black;"></h1>
            <size    id="desktop_ProductColor" class="desktop d-flex my-2 ">  
            </size>
            <size    id="desktop_size_picker" class="desktop d-flex my-2 " style="max-width: fit-content; background-color: wheat;">  
            </size>
            <div class="nav nav-pills">
                <li class="nav-item">
                  <a class="mx-2 nav-link" style="font-size: 10px;" href="#" onclick="sideController(1)">正面</a>
                  <div id="upside_hightlight"  class="mx-1 invisible" style="background-color: #ffcc80; height: 2px;"></div>
                </li>
                <li class="nav-item">
                  <a class="mx-2 nav-link" style="font-size: 10px;" href="#" onclick="sideController(2)" >背面</a>
                  <div id="downside_hightlight" class="mx-1 invisible" style="background-color: #ffcc80; height:2px;"></div>
                </li>
            </div>
            <form class="mt-3 input">
                <div>
                <span style="font-size: 20px;">輸入文字</span>
                  <div  class="mt-2 input-group">
                  <input class="w-75" maxlength="8" id="text_input_d"  type="text"   onkeypress="return event.keyCode != 13" aria-label="Text input with dropdown button">
                    <button id="font_family_inform" class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">字型</button>
                    <ul id="font_panle_d"class="m-2 dropdown-menu">
                    </ul>
                </div>
                <div class="mt-1" id="text_color_panle_d" ></div>
                </div>
            </form>
            
            <div>
                <span>
                    <div class="" style="width: fit-content;">
                        <div class="desktop mt-1 mx-auto" id="sticker_control" >
                          <button class="invisible c_button btn btn-outline-secondary" id="" onclick="reset()">重置位置</button>
                          <button class="invisible c_button btn btn-outline-secondary" id=""onClick="moveFront()" >置頂</button>
                          <button class="invisible c_button btn btn-outline-secondary" id=""onClick="moveBack()" >置底</button>
                          <button class="invisible c_button btn btn-outline-secondary" id="" onclick="removeSticker()" >刪除</button>
                        </div>
                      </div>
                </span>
            </div>
    
            <span style="font-size: 20px;" >貼紙系列</span>
            
              <footer  class="d-flex align-items-start justify-content-start  w-100" >
                <div class="" id="sticker_container_d"  style="display: flex;   overflow-x: auto; "></div>
            </footer>
                 
            <div class="d-flex align-items-center justify-content-center w-100">
                <button onclick="checkOut()" class="w-25 d-block m-4 btn btn-primary rounded" style="  background-color:  orange; color: black;">
                    加到購物車
                </button>
            </div>
    
        </panle>
    </div>
    <side  class="mobile d-flex align-items-center justify-content-center" style="display: none;">
        <div class="mx-5">
            <button id="side_up_btn" onclick="sideController(1)" class="d-block mt-5 btn" style="font-size: 40px ; background-color:  orange; width: 200px; height: 20px;">
            </button>
            <p class="text-center fs-1">正面</p>
        </div>
        <div class="mx-5">
            <button id="side_down_btn" onclick="sideController(2)" class="d-block mt-5  btn" style="font-size: 40px ; background-color:  white;width: 200px; height: 20px;">
                
            </button>
            <p class="text-center fs-1">背面</p>
        </div>
        <div class="mx-5 d-none" >
            <button id="side_pre_btn" onclick="sideController(0)" class="d-block m-3 btn" style="font-size: 40px ; background-color:  white;width: 200px; height: 20px;">
            </button>
            <p class="text-center fs-1">預覽</p>
        </div>
    </side>
    <size  id="mobile_ProductColor" class="mobile d-flex m-2 align-items-center justify-content-center">
    </size>
        
    <footer  class="mobile d-flex align-items-center justify-content-center">
        <button type="button" onclick="checkOut()" class="d-block m-3 btn btn-primary rounded" style=" font-size: 40px ; background-color:  orange; color: black; width: 300px; height: 100px;">
            加到購物車
        </button>
    </footer>
    <nav id="bottom_toolbar"  style="height: 10%;" class="mobile px-3 navbar fixed-bottom navbar-light bg-light" >
        <div  class="mx-5" name="text" id="nav_text" onclick="openBottomA()">
            <image src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/text.png" style="width: 100px;"></image>
            <figcaption class="text-center m-2" style="font-size: 30px;">加入文字</figcaption>
        </div>
        <div  class="d-none" id="ic_upload"  onclick="openDialog()">
            <input accept="image/*" type='file' id="imgInp" hidden/>
            <image src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/upload.png" style="width: 100px;"></image>
            
        </div>
        <div  id="ic_sticker"  onclick="openBottomC()">
            <input accept="image/*" type='file' id="stikcer_btn" hidden/>
            <image src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/sticker.png" style="width: 100px;"></image>
            <figcaption class="text-center m-2" style="font-size: 30px;">加入貼圖</figcaption>
    
        </div>
        <div class="mx-5" id="ic_edit"  name="sticker" onclick="openBottomB()">
            <image src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/edit.png" style="width: 100px;"></image>
            <figcaption class="text-center m-2" style="font-size: 30px;">設定</figcaption>
        </div>
    </nav>
    <div style="height: min-content;" class="d-flex align-items-center justify-content-center offcanvas offcanvas-bottom " tabindex="-1" id="offcanvasTop1" aria-labelledby="offcanvasTopLabel">
        <div class="offcanvas-body small m-3" maximum-scale=1 >
            <h5  class=" mx-auto fs-1 offcanvas-title" style="font-size: 50px;" id="offcanvasTopLabel">輸入文字</h5>
          <form class="input">
              <div class="mb-3">
              <div  class="input-group">
                <input  onkeypress="return event.keyCode != 13" maxlength="8" id="text_input"  type="text" class="form-control-lg" style="width: 80%;" aria-label="Text input with dropdown button">
                </input>
                  <button id="font_family_inform" class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">字型</button>
                  <ul id="font_panle"class="m-2 dropdown-menu">
                  </ul>
              </div>
              <span class="m-5">.</span>
              <div id="text_color_panle" class="mt-5" ></div>
              </div>
              <div class="text-center">
              <button  id="addText_button"  type="button" class="mt-3 btn btn-primary" style="height: 100px;width: 500px; font-size: 40px;" onclick="addText()">確認</button>
              </div>
          </form>
        </div>
      </div>
      <div style="height: min-content;" class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasTop2" aria-labelledby="offcanvasTopLabel">
        <div class="offcanvas-body ">
            <div class="mx-auto d-flex justify-content-center" id="btn_list">
                    <div class="mx-auto">
                    <image class="mx-auto" style="height: 100px;" onclick="reset()" src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/reset.png"></image>
                    <figcaption class="text-center" style="font-size: 30px;">重置旋轉</figcaption>
                    </div>
                    <div class="mx-auto">
                    <image class="mx-auto" style="height: 100px;" onclick="removeNode()" src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/delete.png"></image>
                    <figcaption class="text-center" style="font-size: 30px;">刪除</figcaption>
                </div>
                    <div class="mx-auto">
                    <image class="mx-auto" style="height: 100px;" onclick="moveFront()" src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/layer_up.png"></image>
                    <figcaption class="text-center" style="font-size: 30px;">前移</figcaption>
                </div>
                    <div class="mx-auto">
                    <image class="mx-auto" style="height: 100px;" onclick="moveBack()" src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/layer_down.png"></image>
                    <figcaption class="text-center" style="font-size: 30px;">後移</figcaption>
                </div>
                </div>
        </div>
      </div>
      <div style="height: fit-content;" class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasTop3" aria-labelledby="offcanvasTopLabel">
        <div class="offcanvas-header  d-flex align-items-center justify-content-center">
            <h1 class="offcanvas-title text-center"   style="font-size: 50px;" id="offcanvasLabel">貼紙系列</h1>
          </div>
        <div class="offcanvas-body ">
            <div id="sticker_container" style="display: flex;  overflow-x: auto; "></div>
        </div>
        <div  class="d-none justify-content-center">
            <button class="mobile m-4 btn btn-primary btn-lg" style="width: 200px; font-size: 20px;" onclick="showPicker()" >返回</button>
             </div>
      </div>
    <button id="b1" hidden class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop1" aria-controls="offcanvasTop"></button>
    <button id="b2" hidden class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop2" aria-controls="offcanvasTop"></button>
    <button id="b3" hidden class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop3" aria-controls="offcanvasTop"></button>
    <div id="loading">
        <img id="loading-image" src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/src/image/icon/loading.gif" alt="Loading..." />
    </div>

    <script   src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/assets/js/fn.js?092"></script>
    <script   src="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/assets/js/app.js?23"></script>

      
    <link href="https://shopifyplugcustom.s3.ap-northeast-2.amazonaws.com/TinyMemory/assets/css/styles.css?213" rel="stylesheet">

