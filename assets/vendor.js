/*! For license information please see vendor.js.LICENSE.txt */
(function(){var t={408:function(t){!function(e,i){true?t.exports=i():0}(this,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}t.r(e),t.d(e,{default:()=>a});var r={overlay:null,thickness:"3px",color:"gray",startDuration:1e3,finishDuration:300},a=s((function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),o(this,"setLoadingData",(function(){var t=e.target,i=e.options,s=i.startDuration,n=i.finishDuration,o=i.thickness,r=i.color;t.style.setProperty("--al-thickness"," ".concat(o)),t.style.setProperty("--al-color"," ".concat(r)),t.style.setProperty("--al-start-duration"," ".concat(s,"ms")),t.style.setProperty("--al-finish-duration"," ".concat(n,"ms"))})),o(this,"start",(function(){e.target.classList.add("al-loading-bar","start","loading"),e.overlay&&e.overlay.classList.add("al-loading-overlay","overlay-show")})),o(this,"finish",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=e.target,s=e.overlay,n=e.cleanUp,o=e.options.finishDuration,r=window.getComputedStyle(i,":before").width;i.style.setProperty("--al-end-width",r),i.classList.add("loaded"),i.classList.remove("loading"),window.requestAnimationFrame((function(){i.classList.add("finished"),e.overlay&&s.classList.remove("overlay-show")})),setTimeout(n,2*o),setTimeout(t,o)})),o(this,"cleanUp",(function(){e.target.classList.remove("al-loading-bar","start","loaded","finished"),e.overlay&&e.overlay.classList.remove("al-loading-overlay")})),this.options=Object.assign({},r,s),this.target=i,this.overlay=this.options.overlay,this.setLoadingData()}));return e})()}))},476:function(t,e,i){var s,n;(function(o,r){"use strict";if(true)!(s=r,n="function"===typeof s?s.call(e,i,e,t):s,void 0!==n&&(t.exports=n))})(window,(function t(){"use strict";var e=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";var e=["webkit","moz","ms","o"];for(var i=0;i<e.length;i++){var s=e[i];var n=s+"MatchesSelector";if(t[n])return n}}();return function t(i,s){return i[e](s)}}))},323:function(t,e,i){var s,n;(function(o,r){if(true)!(s=r,n="function"===typeof s?s.call(e,i,e,t):s,void 0!==n&&(t.exports=n))})("undefined"!=typeof window?window:this,(function(){"use strict";function t(){}var e=t.prototype;e.on=function(t,e){if(!t||!e)return;var i=this._events=this._events||{};var s=i[t]=i[t]||[];if(-1==s.indexOf(e))s.push(e);return this};e.once=function(t,e){if(!t||!e)return;this.on(t,e);var i=this._onceEvents=this._onceEvents||{};var s=i[t]=i[t]||{};s[e]=true;return this};e.off=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var s=i.indexOf(e);if(-1!=s)i.splice(s,1);return this};e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;i=i.slice(0);e=e||[];var s=this._onceEvents&&this._onceEvents[t];for(var n=0;n<i.length;n++){var o=i[n];var r=s&&s[o];if(r){this.off(t,o);delete s[o]}o.apply(this,e)}return this};e.allOff=function(){delete this._events;delete this._onceEvents};return t}))},664:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(476)],n=function(t){return r(o,t)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i){"use strict";var s={};s.extend=function(t,e){for(var i in e)t[i]=e[i];return t};s.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;s.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;if(e)return n.call(t);return[t]};s.removeFrom=function(t,e){var i=t.indexOf(e);if(-1!=i)t.splice(i,1)};s.getParent=function(t,e){while(t.parentNode&&t!=document.body){t=t.parentNode;if(i(t,e))return t}};s.getQueryElement=function(t){if("string"==typeof t)return document.querySelector(t);return t};s.handleEvent=function(t){var e="on"+t.type;if(this[e])this[e](t)};s.filterFindElements=function(t,e){t=s.makeArray(t);var n=[];t.forEach((function(t){if(!(t instanceof HTMLElement))return;if(!e){n.push(t);return}if(i(t,e))n.push(t);var s=t.querySelectorAll(e);for(var o=0;o<s.length;o++)n.push(s[o])}));return n};s.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e];var n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments;var o=this;this[n]=setTimeout((function(){s.apply(o,e);delete o[n]}),i)}};s.docReady=function(t){var e=document.readyState;if("complete"==e||"interactive"==e)setTimeout(t);else document.addEventListener("DOMContentLoaded",t)};s.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var o=e.console;s.htmlInit=function(t,i){s.docReady((function(){var n=s.toDashed(i);var r="data-"+n;var a=document.querySelectorAll("["+r+"]");var h=document.querySelectorAll(".js-"+n);var l=s.makeArray(a).concat(s.makeArray(h));var c=r+"-options";var d=e.jQuery;l.forEach((function(e){var s=e.getAttribute(r)||e.getAttribute(c);var n;try{n=s&&JSON.parse(s)}catch(t){if(o)o.error("Error parsing "+r+" on "+e.className+": "+t);return}var a=new t(e,n);if(d)d.data(e,i,a)}))}))};return s}))},459:function(t,e,i){var s,n,o;(function(r,a){if(true)!(n=[i(707),i(664)],s=a,o="function"===typeof s?s.apply(e,n):s,void 0!==o&&(t.exports=o))})(window,(function t(e,i){"use strict";e.createMethods.push("_createAsNavFor");var s=e.prototype;s._createAsNavFor=function(){this.on("activate",this.activateAsNavFor);this.on("deactivate",this.deactivateAsNavFor);this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(!t)return;var e=this;setTimeout((function i(){e.setNavCompanion(t)}))};s.setNavCompanion=function(t){t=i.getQueryElement(t);var s=e.data(t);if(!s||s==this)return;this.navCompanion=s;var n=this;this.onNavCompanionSelect=function(){n.navCompanionSelect()};s.on("select",this.onNavCompanionSelect);this.on("staticClick",this.onNavStaticClick);this.navCompanionSelect(true)};s.navCompanionSelect=function(t){if(!this.navCompanion)return;var e=this.navCompanion.selectedCells[0];var i=this.navCompanion.cells.indexOf(e);var s=i+this.navCompanion.selectedCells.length-1;var o=Math.floor(n(i,s,this.navCompanion.cellAlign));this.selectCell(o,false,t);this.removeNavSelectedElements();if(o>=this.cells.length)return;var r=this.cells.slice(i,s+1);this.navSelectedElements=r.map((function(t){return t.element}));this.changeNavSelectedClass("add")};function n(t,e,i){return(e-t)*i+t}s.changeNavSelectedClass=function(t){this.navSelectedElements.forEach((function(e){e.classList[t]("is-nav-selected")}))};s.activateAsNavFor=function(){this.navCompanionSelect(true)};s.removeNavSelectedElements=function(){if(!this.navSelectedElements)return;this.changeNavSelectedClass("remove");delete this.navSelectedElements};s.onNavStaticClick=function(t,e,i,s){if("number"==typeof s)this.navCompanion.selectCell(s)};s.deactivateAsNavFor=function(){this.removeNavSelectedElements()};s.destroyAsNavFor=function(){if(!this.navCompanion)return;this.navCompanion.off("select",this.onNavCompanionSelect);this.off("staticClick",this.onNavStaticClick);delete this.navCompanion};return e}))},364:function(t,e,i){var s,n,o;(function(r,a){if(true)!(n=[i(707),i(664)],s=a,o="function"===typeof s?s.apply(e,n):s,void 0!==o&&(t.exports=o))})(this,(function t(e,i){var s=e.Slide;var n=s.prototype.updateTarget;s.prototype.updateTarget=function(){n.apply(this,arguments);if(!this.parent.options.fade)return;var t=this.target-this.x;var e=this.cells[0].x;this.cells.forEach((function(i){var s=i.x-e-t;i.renderPosition(s)}))};s.prototype.setOpacity=function(t){this.cells.forEach((function(e){e.element.style.opacity=t}))};var o=e.prototype;e.createMethods.push("_createFade");o._createFade=function(){this.fadeIndex=this.selectedIndex;this.prevSelectedIndex=this.selectedIndex;this.on("select",this.onSelectFade);this.on("dragEnd",this.onDragEndFade);this.on("settle",this.onSettleFade);this.on("activate",this.onActivateFade);this.on("deactivate",this.onDeactivateFade)};var r=o.updateSlides;o.updateSlides=function(){r.apply(this,arguments);if(!this.options.fade)return;this.slides.forEach((function(t,e){var i=e==this.selectedIndex?1:0;t.setOpacity(i)}),this)};o.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1);this.prevSelectedIndex=this.selectedIndex};o.onSettleFade=function(){delete this.didDragEnd;if(!this.options.fade)return;this.selectedSlide.setOpacity(1);var t=this.slides[this.fadeIndex];if(t&&this.fadeIndex!=this.selectedIndex)this.slides[this.fadeIndex].setOpacity(0)};o.onDragEndFade=function(){this.didDragEnd=true};o.onActivateFade=function(){if(this.options.fade)this.element.classList.add("is-fade")};o.onDeactivateFade=function(){if(!this.options.fade)return;this.element.classList.remove("is-fade");this.slides.forEach((function(t){t.setOpacity("")}))};var a=o.positionSlider;o.positionSlider=function(){if(!this.options.fade){a.apply(this,arguments);return}this.fadeSlides();this.dispatchScrollEvent()};var h=o.positionSliderAtSelected;o.positionSliderAtSelected=function(){if(this.options.fade)this.setTranslateX(0);h.apply(this,arguments)};o.fadeSlides=function(){if(this.slides.length<2)return;var t=this.getFadeIndexes();var e=this.slides[t.a];var i=this.slides[t.b];var s=this.wrapDifference(e.target,i.target);var n=this.wrapDifference(e.target,-this.x);n/=s;e.setOpacity(1-n);i.setOpacity(n);var o=t.a;if(this.isDragging)o=n>.5?t.a:t.b;var r=void 0!=this.fadeHideIndex&&this.fadeHideIndex!=o&&this.fadeHideIndex!=t.a&&this.fadeHideIndex!=t.b;if(r)this.slides[this.fadeHideIndex].setOpacity(0);this.fadeHideIndex=o};o.getFadeIndexes=function(){if(!this.isDragging&&!this.didDragEnd)return{a:this.fadeIndex,b:this.selectedIndex};if(this.options.wrapAround)return this.getFadeDragWrapIndexes();else return this.getFadeDragLimitIndexes()};o.getFadeDragWrapIndexes=function(){var t=this.slides.map((function(t,e){return this.getSlideDistance(-this.x,e)}),this);var e=t.map((function(t){return Math.abs(t)}));var s=Math.min.apply(Math,e);var n=e.indexOf(s);var o=t[n];var r=this.slides.length;var a=o>=0?1:-1;return{a:n,b:i.modulo(n+a,r)}};o.getFadeDragLimitIndexes=function(){var t=0;for(var e=0;e<this.slides.length-1;e++){var i=this.slides[e];if(-this.x<i.target)break;t=e}return{a:t,b:t+1}};o.wrapDifference=function(t,e){var i=e-t;if(!this.options.wrapAround)return i;var s=i+this.slideableWidth;var n=i-this.slideableWidth;if(Math.abs(s)<Math.abs(i))i=s;if(Math.abs(n)<Math.abs(i))i=n;return i};var l=o._getWrapShiftCells;o._getWrapShiftCells=function(){if(!this.options.fade)l.apply(this,arguments)};var c=o.shiftWrapCells;o.shiftWrapCells=function(){if(!this.options.fade)c.apply(this,arguments)};return e}))},883:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(5),i(664)],n=function(t,e){return r(o,t,e)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s){"use strict";function n(t){var e=document.createDocumentFragment();t.forEach((function(t){e.appendChild(t.element)}));return e}var o=i.prototype;o.insert=function(t,e){var i=this._makeCells(t);if(!i||!i.length)return;var s=this.cells.length;e=void 0===e?s:e;var o=n(i);var r=e==s;if(r)this.slider.appendChild(o);else{var a=this.cells[e].element;this.slider.insertBefore(o,a)}if(0===e)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var h=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(h)}this._sizeCells(i);this.cellChange(e,true)};o.append=function(t){this.insert(t,this.cells.length)};o.prepend=function(t){this.insert(t,0)};o.remove=function(t){var e=this.getCells(t);if(!e||!e.length)return;var i=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i);s.removeFrom(this.cells,t)}),this);this.cellChange(i,true)};o.cellSizeChange=function(t){var e=this.getCell(t);if(!e)return;e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)};o.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t);this._getWrapShiftCells();this.setGallerySize();var s=this.getCell(i);if(s)this.selectedIndex=this.getCellSlideIndex(s);this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex);this.emitEvent("cellChange",[t]);this.select(this.selectedIndex);if(e)this.positionSliderAtSelected()};return i}))},21:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(664)],n=function(t){return r(o,t)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i){"use strict";var s={};s.startAnimation=function(){if(this.isAnimating)return;this.isAnimating=true;this.restingFrames=0;this.animate()};s.animate=function(){this.applyDragForce();this.applySelectedAttraction();var t=this.x;this.integratePhysics();this.positionSlider();this.settle(t);if(this.isAnimating){var e=this;requestAnimationFrame((function t(){e.animate()}))}};s.positionSlider=function(){var t=this.x;if(this.options.wrapAround&&this.cells.length>1){t=i.modulo(t,this.slideableWidth);t-=this.slideableWidth;this.shiftWrapCells(t)}this.setTranslateX(t,this.isAnimating);this.dispatchScrollEvent()};s.setTranslateX=function(t,e){t+=this.cursorPosition;t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"};s.dispatchScrollEvent=function(){var t=this.slides[0];if(!t)return;var e=-this.x-t.target;var i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])};s.positionSliderAtSelected=function(){if(!this.cells.length)return;this.x=-this.selectedSlide.target;this.velocity=0;this.positionSlider()};s.getPositionValue=function(t){if(this.options.percentPosition)return.01*Math.round(t/this.size.innerWidth*1e4)+"%";else return Math.round(t)+"px"};s.settle=function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);if(e)this.restingFrames++;if(this.restingFrames>2){this.isAnimating=false;delete this.isFreeScrolling;this.positionSlider();this.dispatchEvent("settle",null,[this.selectedIndex])}};s.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)};s._shiftCells=function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s];var o=e>0?i:0;n.wrapShift(o);e-=n.size.outerWidth}};s._unshiftCells=function(t){if(!t||!t.length)return;for(var e=0;e<t.length;e++)t[e].wrapShift(0)};s.integratePhysics=function(){this.x+=this.velocity;this.velocity*=this.getFrictionFactor()};s.applyForce=function(t){this.velocity+=t};s.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]};s.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())};s.applyDragForce=function(){if(!this.isDraggable||!this.isPointerDown)return;var t=this.dragX-this.x;var e=t-this.velocity;this.applyForce(e)};s.applySelectedAttraction=function(){var t=this.isDraggable&&this.isPointerDown;if(t||this.isFreeScrolling||!this.slides.length)return;var e=-1*this.selectedSlide.target-this.x;var i=e*this.options.selectedAttraction;this.applyForce(i)};return s}))},195:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(768)],n=function(t){return r(o,t)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i){"use strict";function s(t,e){this.element=t;this.parent=e;this.create()}var n=s.prototype;n.create=function(){this.element.style.position="absolute";this.element.setAttribute("aria-hidden","true");this.x=0;this.shift=0;this.element.style[this.parent.originSide]=0};n.destroy=function(){this.unselect();this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="";this.element.style.transform="";this.element.removeAttribute("aria-hidden")};n.getSize=function(){this.size=i(this.element)};n.setPosition=function(t){this.x=t;this.updateTarget();this.renderPosition(t)};n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign};n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1;var i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"};n.select=function(){this.element.classList.add("is-selected");this.element.removeAttribute("aria-hidden")};n.unselect=function(){this.element.classList.remove("is-selected");this.element.setAttribute("aria-hidden","true")};n.wrapShift=function(t){this.shift=t;this.renderPosition(this.x+this.parent.slideableWidth*t)};n.remove=function(){this.element.parentNode.removeChild(this.element)};return s}))},769:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(5),i(385),i(664)],n=function(t,e,i){return r(o,t,e,i)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s,n){"use strict";n.extend(i.defaults,{draggable:">1",dragThreshold:3});i.createMethods.push("_createDrag");var o=i.prototype;n.extend(o,s.prototype);o._touchActionValue="pan-y";o._createDrag=function(){this.on("activate",this.onActivateDrag);this.on("uiChange",this._uiChangeDrag);this.on("deactivate",this.onDeactivateDrag);this.on("cellChange",this.updateDraggable)};o.onActivateDrag=function(){this.handles=[this.viewport];this.bindHandles();this.updateDraggable()};o.onDeactivateDrag=function(){this.unbindHandles();this.element.classList.remove("is-draggable")};o.updateDraggable=function(){if(">1"==this.options.draggable)this.isDraggable=this.slides.length>1;else this.isDraggable=this.options.draggable;if(this.isDraggable)this.element.classList.add("is-draggable");else this.element.classList.remove("is-draggable")};o.bindDrag=function(){this.options.draggable=true;this.updateDraggable()};o.unbindDrag=function(){this.options.draggable=false;this.updateDraggable()};o._uiChangeDrag=function(){delete this.isFreeScrolling};o.pointerDown=function(t,i){if(!this.isDraggable){this._pointerDownDefault(t,i);return}var s=this.okayPointerDown(t);if(!s)return;this._pointerDownPreventDefault(t);this.pointerDownFocus(t);if(document.activeElement!=this.element)this.pointerDownBlur();this.dragX=this.x;this.viewport.classList.add("is-pointer-down");this.pointerDownScroll=a();e.addEventListener("scroll",this);this._pointerDownDefault(t,i)};o._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY};this._bindPostStartEvents(t);this.dispatchEvent("pointerDown",t,[e])};var r={INPUT:true,TEXTAREA:true,SELECT:true};o.pointerDownFocus=function(t){var e=r[t.target.nodeName];if(!e)this.focus()};o._pointerDownPreventDefault=function(t){var e="touchstart"==t.type;var i="touch"==t.pointerType;var s=r[t.target.nodeName];if(!e&&!i&&!s)t.preventDefault()};o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold};o.pointerUp=function(t,e){delete this.isTouchScrolling;this.viewport.classList.remove("is-pointer-down");this.dispatchEvent("pointerUp",t,[e]);this._dragPointerUp(t,e)};o.pointerDone=function(){e.removeEventListener("scroll",this);delete this.pointerDownScroll};o.dragStart=function(t,i){if(!this.isDraggable)return;this.dragStartPosition=this.x;this.startAnimation();e.removeEventListener("scroll",this);this.dispatchEvent("dragStart",t,[i])};o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]);this._dragMove(t,e,i)};o.dragMove=function(t,e,i){if(!this.isDraggable)return;t.preventDefault();this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;if(this.options.wrapAround)i.x%=this.slideableWidth;var n=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<r?.5*(n+r):n}this.dragX=n;this.dragMoveTime=new Date;this.dispatchEvent("dragMove",t,[e,i])};o.dragEnd=function(t,e){if(!this.isDraggable)return;if(this.options.freeScroll)this.isFreeScrolling=true;var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else if(!this.options.freeScroll&&i==this.selectedIndex)i+=this.dragEndBoostSelect();delete this.previousDragX;this.isDragSelect=this.options.wrapAround;this.select(i);delete this.isDragSelect;this.dispatchEvent("dragEnd",t,[e])};o.dragEndRestingSelect=function(){var t=this.getRestingPosition();var e=Math.abs(this.getSlideDistance(-t,this.selectedIndex));var i=this._getClosestResting(t,e,1);var s=this._getClosestResting(t,e,-1);var n=i.distance<s.distance?i.index:s.index;return n};o._getClosestResting=function(t,e,i){var s=this.selectedIndex;var n=1/0;var o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(o(e,n)){s+=i;n=e;e=this.getSlideDistance(-t,s);if(null===e)break;e=Math.abs(e)}return{distance:n,index:s-i}};o.getSlideDistance=function(t,e){var i=this.slides.length;var s=this.options.wrapAround&&i>1;var o=s?n.modulo(e,i):e;var r=this.slides[o];if(!r)return null;var a=s?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+a)};o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex);var e=this.previousDragX-this.dragX;if(t>0&&e>0)return 1;else if(t<0&&e<0)return-1;return 0};o.staticClick=function(t,e){var i=this.getParentCell(t.target);var s=i&&i.element;var n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,n])};o.onscroll=function(){var t=a();var e=this.pointerDownScroll.x-t.x;var i=this.pointerDownScroll.y-t.y;if(Math.abs(e)>3||Math.abs(i)>3)this._pointerDone()};function a(){return{x:e.pageXOffset,y:e.pageYOffset}}return i}))},5:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(323),i(768),i(664),i(195),i(861),i(21)],n=function(t,e,i,s,n,a){return r(o,t,e,i,s,n,a)}.apply(e,s),void 0!==n&&(t.exports=n));else var a})(window,(function t(e,i,s,n,o,r,a){"use strict";var h=e.jQuery;var l=e.getComputedStyle;var c=e.console;function d(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var p=0;var u={};function f(t,e){var i=n.getQueryElement(t);if(!i){if(c)c.error("Bad element for Flickity: "+(i||t));return}this.element=i;if(this.element.flickityGUID){var s=u[this.element.flickityGUID];if(s)s.option(e);return s}if(h)this.$element=h(this.element);this.options=n.extend({},this.constructor.defaults);this.option(e);this._create()}f.defaults={accessibility:true,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:true,percentPosition:true,resize:true,selectedAttraction:.025,setGallerySize:true};f.createMethods=[];var m=f.prototype;n.extend(m,i.prototype);m._create=function(){var t=this.guid=++p;this.element.flickityGUID=t;u[t]=this;this.selectedIndex=0;this.restingFrames=0;this.x=0;this.velocity=0;this.originSide=this.options.rightToLeft?"right":"left";this.viewport=document.createElement("div");this.viewport.className="flickity-viewport";this._createSlider();if(this.options.resize||this.options.watchCSS)e.addEventListener("resize",this);for(var i in this.options.on){var s=this.options.on[i];this.on(i,s)}f.createMethods.forEach((function(t){this[t]()}),this);if(this.options.watchCSS)this.watchCSS();else this.activate()};m.option=function(t){n.extend(this.options,t)};m.activate=function(){if(this.isActive)return;this.isActive=true;this.element.classList.add("flickity-enabled");if(this.options.rightToLeft)this.element.classList.add("flickity-rtl");this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider);this.viewport.appendChild(this.slider);this.element.appendChild(this.viewport);this.reloadCells();if(this.options.accessibility){this.element.tabIndex=0;this.element.addEventListener("keydown",this)}this.emitEvent("activate");this.selectInitialIndex();this.isInitActivated=true;this.dispatchEvent("ready")};m._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider";t.style[this.originSide]=0;this.slider=t};m._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)};m.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize()};m._makeCells=function(t){var e=this._filterFindCellElements(t);var i=e.map((function(t){return new o(t,this)}),this);return i};m.getLastCell=function(){return this.cells[this.cells.length-1]};m.getLastSlide=function(){return this.slides[this.slides.length-1]};m.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0)};m._positionCells=function(t){t=t||0;this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}var s=this.cells.length;for(var n=t;n<s;n++){var o=this.cells[n];o.setPosition(e);e+=o.size.outerWidth;this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e;this.updateSlides();this._containSlides();this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0};m._sizeCells=function(t){t.forEach((function(t){t.getSize()}))};m.updateSlides=function(){this.slides=[];if(!this.cells.length)return;var t=new r(this);this.slides.push(t);var e="left"==this.originSide;var i=e?"marginRight":"marginLeft";var s=this._getCanCellFit();this.cells.forEach((function(e,n){if(!t.cells.length){t.addCell(e);return}var o=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);if(s.call(this,n,o))t.addCell(e);else{t.updateTarget();t=new r(this);this.slides.push(t);t.addCell(e)}}),this);t.updateTarget();this.updateSelectedSlide()};m._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return false};else if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/);var s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}};m._init=m.reposition=function(){this.positionCells();this.positionSliderAtSelected()};m.getSize=function(){this.size=s(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};m.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign};m.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}};m._getWrapShiftCells=function(){if(!this.options.wrapAround)return;this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition;var e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1);t=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(t,0,1)};m._getGapCells=function(t,e,i){var s=[];while(t>0){var n=this.cells[e];if(!n)break;s.push(n);e+=i;t-=n.size.outerWidth}return s};m._containSlides=function(){if(!this.options.contain||this.options.wrapAround||!this.cells.length)return;var t=this.options.rightToLeft;var e=t?"marginRight":"marginLeft";var i=t?"marginLeft":"marginRight";var s=this.slideableWidth-this.getLastCell().size[i];var n=s<this.size.innerWidth;var o=this.cursorPosition+this.cells[0].size[e];var r=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){if(n)t.target=s*this.cellAlign;else{t.target=Math.max(t.target,o);t.target=Math.min(t.target,r)}}),this)};m.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;this.emitEvent(t,s);if(h&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var n=t;if(e){var o=new h.Event(e);o.type=t;n=o}this.$element.trigger(n,i)}};m.select=function(t,e,i){if(!this.isActive)return;t=parseInt(t,10);this._wrapSelect(t);if(this.options.wrapAround||e)t=n.modulo(t,this.slides.length);if(!this.slides[t])return;var s=this.selectedIndex;this.selectedIndex=t;this.updateSelectedSlide();if(i)this.positionSliderAtSelected();else this.startAnimation();if(this.options.adaptiveHeight)this.setGallerySize();this.dispatchEvent("select",null,[t]);if(t!=s)this.dispatchEvent("change",null,[t]);this.dispatchEvent("cellSelect")};m._wrapSelect=function(t){var e=this.slides.length;var i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e);var o=Math.abs(s-this.selectedIndex);var r=Math.abs(s+e-this.selectedIndex);var a=Math.abs(s-e-this.selectedIndex);if(!this.isDragSelect&&r<o)t+=e;else if(!this.isDragSelect&&a<o)t-=e;if(t<0)this.x-=this.slideableWidth;else if(t>=e)this.x+=this.slideableWidth};m.previous=function(t,e){this.select(this.selectedIndex-1,t,e)};m.next=function(t,e){this.select(this.selectedIndex+1,t,e)};m.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];if(!t)return;this.unselectSelectedSlide();this.selectedSlide=t;t.select();this.selectedCells=t.cells;this.selectedElements=t.getCellElements();this.selectedCell=t.cells[0];this.selectedElement=this.selectedElements[0]};m.unselectSelectedSlide=function(){if(this.selectedSlide)this.selectedSlide.unselect()};m.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated){this.select(this.selectedIndex,false,true);return}if(t&&"string"==typeof t){var e=this.queryCell(t);if(e){this.selectCell(t,false,true);return}}var i=0;if(t&&this.slides[t])i=t;this.select(i,false,true)};m.selectCell=function(t,e,i){var s=this.queryCell(t);if(!s)return;var n=this.getCellSlideIndex(s);this.select(n,e,i)};m.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e];var s=i.cells.indexOf(t);if(-1!=s)return e}};m.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}};m.getCells=function(t){t=n.makeArray(t);var e=[];t.forEach((function(t){var i=this.getCell(t);if(i)e.push(i)}),this);return e};m.getCellElements=function(){return this.cells.map((function(t){return t.element}))};m.getParentCell=function(t){var e=this.getCell(t);if(e)return e;t=n.getParent(t,".flickity-slider > *");return this.getCell(t)};m.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();var s=[];for(var o=e-t;o<=e+t;o++){var r=this.options.wrapAround?n.modulo(o,i):o;var a=this.slides[r];if(a)s=s.concat(a.getCellElements())}return s};m.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)};m.uiChange=function(){this.emitEvent("uiChange")};m.childUIPointerDown=function(t){if("touchstart"!=t.type)t.preventDefault();this.focus()};m.onresize=function(){this.watchCSS();this.resize()};n.debounceMethod(f,"onresize",150);m.resize=function(){if(!this.isActive||this.isAnimating||this.isDragging)return;this.getSize();if(this.options.wrapAround)this.x=n.modulo(this.x,this.slideableWidth);this.positionCells();this._getWrapShiftCells();this.setGallerySize();this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,false,true)};m.watchCSS=function(){var t=this.options.watchCSS;if(!t)return;var e=l(this.element,":after").content;if(-1!=e.indexOf("flickity"))this.activate();else this.deactivate()};m.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(!this.options.accessibility||e)return;var i=f.keyboardHandlers[t.keyCode];if(i)i.call(this)};f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange();this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange();this[t]()}};m.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:true});if(e.pageYOffset!=t)e.scrollTo(e.pageXOffset,t)};m.deactivate=function(){if(!this.isActive)return;this.element.classList.remove("flickity-enabled");this.element.classList.remove("flickity-rtl");this.unselectSelectedSlide();this.cells.forEach((function(t){t.destroy()}));this.element.removeChild(this.viewport);d(this.slider.children,this.element);if(this.options.accessibility){this.element.removeAttribute("tabIndex");this.element.removeEventListener("keydown",this)}this.isActive=false;this.emitEvent("deactivate")};m.destroy=function(){this.deactivate();e.removeEventListener("resize",this);this.allOff();this.emitEvent("destroy");if(h&&this.$element)h.removeData(this.element,"flickity");delete this.element.flickityGUID;delete u[this.guid]};n.extend(m,a);f.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&u[e]};n.htmlInit(f,"flickity");if(h&&h.bridget)h.bridget("flickity",f);f.setJQuery=function(t){h=t};f.Cell=o;f.Slide=r;return f}))},707:function(t,e,i){var s,n,o;(function(r,a){if(true)!(n=[i(5),i(769),i(276),i(504),i(0),i(883),i(812)],s=a,o="function"===typeof s?s.apply(e,n):s,void 0!==o&&(t.exports=o))})(window,(function t(e){return e}))},812:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(5),i(664)],n=function(t,e){return r(o,t,e)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s){"use strict";i.createMethods.push("_createLazyload");var n=i.prototype;n._createLazyload=function(){this.on("select",this.lazyLoad)};n.lazyLoad=function(){var t=this.options.lazyLoad;if(!t)return;var e="number"==typeof t?t:0;var i=this.getAdjacentCellElements(e);var s=[];i.forEach((function(t){var e=o(t);s=s.concat(e)}));s.forEach((function(t){new r(t,this)}),this)};function o(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload");var i=t.getAttribute("data-flickity-lazyload-src");var n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}var o="img[data-flickity-lazyload], "+"img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]";var r=t.querySelectorAll(o);return s.makeArray(r)}function r(t,e){this.img=t;this.flickity=e;this.load()}r.prototype.handleEvent=s.handleEvent;r.prototype.load=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src");var e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t;if(e)this.img.setAttribute("srcset",e);this.img.removeAttribute("data-flickity-lazyload");this.img.removeAttribute("data-flickity-lazyload-src");this.img.removeAttribute("data-flickity-lazyload-srcset")};r.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")};r.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")};r.prototype.complete=function(t,e){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img);var s=i&&i.element;this.flickity.cellSizeChange(s);this.img.classList.add(e);this.flickity.dispatchEvent("lazyLoad",t,s)};i.LazyLoader=r;return i}))},504:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(5),i(497),i(664)],n=function(t,e,i){return r(o,t,e,i)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s,n){"use strict";function o(t){this.parent=t;this._create()}o.prototype=Object.create(s.prototype);o.prototype._create=function(){this.holder=document.createElement("ol");this.holder.className="flickity-page-dots";this.dots=[];this.handleClick=this.onClick.bind(this);this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))};o.prototype.activate=function(){this.setDots();this.holder.addEventListener("click",this.handleClick);this.bindStartEvent(this.holder);this.parent.element.appendChild(this.holder)};o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick);this.unbindStartEvent(this.holder);this.parent.element.removeChild(this.holder)};o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;if(t>0)this.addDots(t);else if(t<0)this.removeDots(-t)};o.prototype.addDots=function(t){var e=document.createDocumentFragment();var i=[];var s=this.dots.length;var n=s+t;for(var o=s;o<n;o++){var r=document.createElement("li");r.className="dot";r.setAttribute("aria-label","Page dot "+(o+1));e.appendChild(r);i.push(r)}this.holder.appendChild(e);this.dots=this.dots.concat(i)};o.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)};o.prototype.updateSelected=function(){if(this.selectedDot){this.selectedDot.className="dot";this.selectedDot.removeAttribute("aria-current")}if(!this.dots.length)return;this.selectedDot=this.dots[this.parent.selectedIndex];this.selectedDot.className="dot is-selected";this.selectedDot.setAttribute("aria-current","step")};o.prototype.onTap=o.prototype.onClick=function(t){var e=t.target;if("LI"!=e.nodeName)return;this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)};o.prototype.destroy=function(){this.deactivate();this.allOff()};i.PageDots=o;n.extend(i.defaults,{pageDots:true});i.createMethods.push("_createPageDots");var r=i.prototype;r._createPageDots=function(){if(!this.options.pageDots)return;this.pageDots=new o(this);this.on("activate",this.activatePageDots);this.on("select",this.updateSelectedPageDots);this.on("cellChange",this.updatePageDots);this.on("resize",this.updatePageDots);this.on("deactivate",this.deactivatePageDots)};r.activatePageDots=function(){this.pageDots.activate()};r.updateSelectedPageDots=function(){this.pageDots.updateSelected()};r.updatePageDots=function(){this.pageDots.setDots()};r.deactivatePageDots=function(){this.pageDots.deactivate()};i.PageDots=o;return i}))},0:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(323),i(664),i(5)],n=function(t,e,i){return r(t,e,i)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s){"use strict";function n(t){this.parent=t;this.state="stopped";this.onVisibilityChange=this.visibilityChange.bind(this);this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(e.prototype);n.prototype.play=function(){if("playing"==this.state)return;var t=document.hidden;if(t){document.addEventListener("visibilitychange",this.onVisibilityPlay);return}this.state="playing";document.addEventListener("visibilitychange",this.onVisibilityChange);this.tick()};n.prototype.tick=function(){if("playing"!=this.state)return;var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear();this.timeout=setTimeout((function(){e.parent.next(true);e.tick()}),t)};n.prototype.stop=function(){this.state="stopped";this.clear();document.removeEventListener("visibilitychange",this.onVisibilityChange)};n.prototype.clear=function(){clearTimeout(this.timeout)};n.prototype.pause=function(){if("playing"==this.state){this.state="paused";this.clear()}};n.prototype.unpause=function(){if("paused"==this.state)this.play()};n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()};n.prototype.visibilityPlay=function(){this.play();document.removeEventListener("visibilitychange",this.onVisibilityPlay)};i.extend(s.defaults,{pauseAutoPlayOnHover:true});s.createMethods.push("_createPlayer");var o=s.prototype;o._createPlayer=function(){this.player=new n(this);this.on("activate",this.activatePlayer);this.on("uiChange",this.stopPlayer);this.on("pointerDown",this.stopPlayer);this.on("deactivate",this.deactivatePlayer)};o.activatePlayer=function(){if(!this.options.autoPlay)return;this.player.play();this.element.addEventListener("mouseenter",this)};o.playPlayer=function(){this.player.play()};o.stopPlayer=function(){this.player.stop()};o.pausePlayer=function(){this.player.pause()};o.unpausePlayer=function(){this.player.unpause()};o.deactivatePlayer=function(){this.player.stop();this.element.removeEventListener("mouseenter",this)};o.onmouseenter=function(){if(!this.options.pauseAutoPlayOnHover)return;this.player.pause();this.element.addEventListener("mouseleave",this)};o.onmouseleave=function(){this.player.unpause();this.element.removeEventListener("mouseleave",this)};s.Player=n;return s}))},276:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(5),i(497),i(664)],n=function(t,e,i){return r(o,t,e,i)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i,s,n){"use strict";var o="http://www.w3.org/2000/svg";function r(t,e){this.direction=t;this.parent=e;this._create()}r.prototype=Object.create(s.prototype);r.prototype._create=function(){this.isEnabled=true;this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button";e.className+=this.isPrevious?" previous":" next";e.setAttribute("type","button");this.disable();e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i);this.parent.on("select",this.update.bind(this));this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))};r.prototype.activate=function(){this.bindStartEvent(this.element);this.element.addEventListener("click",this);this.parent.element.appendChild(this.element)};r.prototype.deactivate=function(){this.parent.element.removeChild(this.element);this.unbindStartEvent(this.element);this.element.removeEventListener("click",this)};r.prototype.createSVG=function(){var t=document.createElementNS(o,"svg");t.setAttribute("class","flickity-button-icon");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(o,"path");var i=a(this.parent.options.arrowShape);e.setAttribute("d",i);e.setAttribute("class","arrow");if(!this.isLeft)e.setAttribute("transform","translate(100, 100) rotate(180) ");t.appendChild(e);return t};function a(t){if("string"==typeof t)return t;return"M "+t.x0+",50"+" L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50 "+" L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}r.prototype.handleEvent=n.handleEvent;r.prototype.onclick=function(){if(!this.isEnabled)return;this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()};r.prototype.enable=function(){if(this.isEnabled)return;this.element.disabled=false;this.isEnabled=true};r.prototype.disable=function(){if(!this.isEnabled)return;this.element.disabled=true;this.isEnabled=false};r.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1){this.enable();return}var e=t.length?t.length-1:0;var i=this.isPrevious?0:e;var s=this.parent.selectedIndex==i?"disable":"enable";this[s]()};r.prototype.destroy=function(){this.deactivate();this.allOff()};n.extend(i.defaults,{prevNextButtons:true,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}});i.createMethods.push("_createPrevNextButtons");var h=i.prototype;h._createPrevNextButtons=function(){if(!this.options.prevNextButtons)return;this.prevButton=new r(-1,this);this.nextButton=new r(1,this);this.on("activate",this.activatePrevNextButtons)};h.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on("deactivate",this.deactivatePrevNextButtons)};h.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off("deactivate",this.deactivatePrevNextButtons)};i.PrevNextButton=r;return i}))},861:function(t,e,i){var s,n;(function(o,r){if(true)!(s=r,n="function"===typeof s?s.call(e,i,e,t):s,void 0!==n&&(t.exports=n))})(window,(function t(){"use strict";function e(t){this.parent=t;this.isOriginLeft="left"==t.originSide;this.cells=[];this.outerWidth=0;this.height=0}var i=e.prototype;i.addCell=function(t){this.cells.push(t);this.outerWidth+=t.size.outerWidth;this.height=Math.max(t.size.outerHeight,this.height);if(1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}};i.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft";var e=this.getLastCell();var i=e?e.size[t]:0;var s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign};i.getLastCell=function(){return this.cells[this.cells.length-1]};i.select=function(){this.cells.forEach((function(t){t.select()}))};i.unselect=function(){this.cells.forEach((function(t){t.unselect()}))};i.getCellElements=function(){return this.cells.map((function(t){return t.element}))};return e}))},768:function(t,e,i){var s,n;(function(o,r){if(true)!(s=r,n="function"===typeof s?s.call(e,i,e,t):s,void 0!==n&&(t.exports=n))})(window,(function t(){"use strict";function e(t){var e=parseFloat(t);var i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function i(){}var s="undefined"==typeof console?i:function(t){void 0};var n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var o=n.length;function r(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<o;e++){var i=n[e];t[i]=0}return t}function a(t){var e=getComputedStyle(t);if(!e)s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1");return e}var h=false;var l;function c(){if(h)return;h=true;var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var s=a(t);l=200==Math.round(e(s.width));d.isBoxSizeOuter=l;i.removeChild(t)}function d(t){c();if("string"==typeof t)t=document.querySelector(t);if(!t||"object"!=typeof t||!t.nodeType)return;var i=a(t);if("none"==i.display)return r();var s={};s.width=t.offsetWidth;s.height=t.offsetHeight;var h=s.isBorderBox="border-box"==i.boxSizing;for(var d=0;d<o;d++){var p=n[d];var u=i[p];var f=parseFloat(u);s[p]=!isNaN(f)?f:0}var m=s.paddingLeft+s.paddingRight;var v=s.paddingTop+s.paddingBottom;var g=s.marginLeft+s.marginRight;var y=s.marginTop+s.marginBottom;var _=s.borderLeftWidth+s.borderRightWidth;var w=s.borderTopWidth+s.borderBottomWidth;var S=h&&l;var x=e(i.width);if(false!==x)s.width=x+(S?0:m+_);var b=e(i.height);if(false!==b)s.height=b+(S?0:v+w);s.innerWidth=s.width-(m+_);s.innerHeight=s.height-(v+w);s.outerWidth=s.width+g;s.outerHeight=s.height+y;return s}return d}))},385:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(497)],n=function(t){return r(o,t)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i){"use strict";function s(){}var n=s.prototype=Object.create(i.prototype);n.bindHandles=function(){this._bindHandles(true)};n.unbindHandles=function(){this._bindHandles(false)};n._bindHandles=function(t){t=void 0===t?true:t;var i=t?"addEventListener":"removeEventListener";var s=t?this._touchActionValue:"";for(var n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,t);o[i]("click",this);if(e.PointerEvent)o.style.touchAction=s}};n._touchActionValue="none";n.pointerDown=function(t,e){var i=this.okayPointerDown(t);if(!i)return;this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY};t.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(t);this.emitEvent("pointerDown",[t,e])};var o={TEXTAREA:true,INPUT:true,SELECT:true,OPTION:true};var r={radio:true,checkbox:true,button:true,submit:true,image:true,file:true};n.okayPointerDown=function(t){var e=o[t.target.nodeName];var i=r[t.target.type];var s=!e||i;if(!s)this._pointerReset();return s};n.pointerDownBlur=function(){var t=document.activeElement;var e=t&&t.blur&&t!=document.body;if(e)t.blur()};n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]);this._dragMove(t,e,i)};n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};if(!this.isDragging&&this.hasDragStarted(i))this._dragStart(t,e);return i};n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3};n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]);this._dragPointerUp(t,e)};n._dragPointerUp=function(t,e){if(this.isDragging)this._dragEnd(t,e);else this._staticClick(t,e)};n._dragStart=function(t,e){this.isDragging=true;this.isPreventingClicks=true;this.dragStart(t,e)};n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])};n._dragMove=function(t,e,i){if(!this.isDragging)return;this.dragMove(t,e,i)};n.dragMove=function(t,e,i){t.preventDefault();this.emitEvent("dragMove",[t,e,i])};n._dragEnd=function(t,e){this.isDragging=false;setTimeout(function(){delete this.isPreventingClicks}.bind(this));this.dragEnd(t,e)};n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])};n.onclick=function(t){if(this.isPreventingClicks)t.preventDefault()};n._staticClick=function(t,e){if(this.isIgnoringMouseUp&&"mouseup"==t.type)return;this.staticClick(t,e);if("mouseup"!=t.type){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)}};n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])};s.getPointerPoint=i.getPointerPoint;return s}))},497:function(t,e,i){var s,n;(function(o,r){if(true)!(s=[i(323)],n=function(t){return r(o,t)}.apply(e,s),void 0!==n&&(t.exports=n))})(window,(function t(e,i){"use strict";function s(){}function n(){}var o=n.prototype=Object.create(i.prototype);o.bindStartEvent=function(t){this._bindStartEvent(t,true)};o.unbindStartEvent=function(t){this._bindStartEvent(t,false)};o._bindStartEvent=function(t,i){i=void 0===i?true:i;var s=i?"addEventListener":"removeEventListener";var n="mousedown";if("ontouchstart"in e)n="touchstart";else if(e.PointerEvent)n="pointerdown";t[s](n,this)};o.handleEvent=function(t){var e="on"+t.type;if(this[e])this[e](t)};o.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}};o.onmousedown=function(t){var e=t.button;if(e&&0!==e&&1!==e)return;this._pointerDown(t,t)};o.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])};o.onpointerdown=function(t){this._pointerDown(t,t)};o._pointerDown=function(t,e){if(t.button||this.isPointerDown)return;this.isPointerDown=true;this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier;this.pointerDown(t,e)};o.pointerDown=function(t,e){this._bindPostStartEvents(t);this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};o._bindPostStartEvents=function(t){if(!t)return;var i=r[t.type];i.forEach((function(t){e.addEventListener(t,this)}),this);this._boundPointerEvents=i};o._unbindPostStartEvents=function(){if(!this._boundPointerEvents)return;this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this);delete this._boundPointerEvents};o.onmousemove=function(t){this._pointerMove(t,t)};o.onpointermove=function(t){if(t.pointerId==this.pointerIdentifier)this._pointerMove(t,t)};o.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);if(e)this._pointerMove(t,e)};o._pointerMove=function(t,e){this.pointerMove(t,e)};o.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])};o.onmouseup=function(t){this._pointerUp(t,t)};o.onpointerup=function(t){if(t.pointerId==this.pointerIdentifier)this._pointerUp(t,t)};o.ontouchend=function(t){var e=this.getTouch(t.changedTouches);if(e)this._pointerUp(t,e)};o._pointerUp=function(t,e){this._pointerDone();this.pointerUp(t,e)};o.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])};o._pointerDone=function(){this._pointerReset();this._unbindPostStartEvents();this.pointerDone()};o._pointerReset=function(){this.isPointerDown=false;delete this.pointerIdentifier};o.pointerDone=s;o.onpointercancel=function(t){if(t.pointerId==this.pointerIdentifier)this._pointerCancel(t,t)};o.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);if(e)this._pointerCancel(t,e)};o._pointerCancel=function(t,e){this._pointerDone();this.pointerCancel(t,e)};o.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])};n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}};return n}))},940:function(){__loadjs=function(){var t=function(){},e={},i={},s={};function n(t,e){if(t){var n=s[t];if(i[t]=e,n)for(;n.length;)n[0](t,e),n.splice(0,1)}}function o(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function r(e,i,s,n){var o,a,h=document,l=s.async,c=(s.numRetries||0)+1,d=s.before||t,p=e.replace(/[\?|#].*$/,""),u=e.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(p)?((a=h.createElement("link")).rel="stylesheet",a.href=u,(o="hideFocus"in a)&&a.relList&&(o=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(p)?(a=h.createElement("img")).src=u:((a=h.createElement("script")).src=e,a.async=void 0===l||l),!(a.onload=a.onerror=a.onbeforeload=function(t){var h=t.type[0];if(o)try{a.sheet.cssText.length||(h="e")}catch(t){18!=t.code&&(h="e")}if("e"==h){if((n+=1)<c)return r(e,i,s,n)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(e,h,t.defaultPrevented)})!==d(e,a)&&h.head.appendChild(a)}function a(t,i,s){var a,h;if(i&&i.trim&&(a=i),h=(a?s:i)||{},a){if(a in e)throw"LoadJS";e[a]=!0}function l(e,i){!function(t,e,i){var s,n,o=(t=t.push?t:[t]).length,a=o,h=[];for(s=function(t,i,s){if("e"==i&&h.push(t),"b"==i){if(!s)return;h.push(t)}--o||e(h)},n=0;n<a;n++)r(t[n],s,i)}(t,(function(t){o(h,t),e&&o({success:e,error:i},t),n(a,t)}),h)}if(h.returnPromise)return new Promise(l);l()}return a.ready=function(t,e){return function(t,e){t=t.push?t:[t];var n,o,r,a=[],h=t.length,l=h;for(n=function(t,i){i.length&&a.push(t),--l||e(a)};h--;)o=t[h],(r=i[o])?n(o,r):(s[o]=s[o]||[]).push(n)}(t,(function(t){o(e,t)})),a},a.done=function(t){n(t,[])},a.reset=function(){e={},i={},s={}},a.isDefined=function(t){return t in e},a}()},116:function(){const t=t=>{const e=document.querySelectorAll("[data-cart-count-number]");e&&e.forEach((e=>{const i=e.closest("[data-cart-count-bubble]");e.textContent=t;if(0===t)i.classList.add("is-cart-empty");else i.classList.remove("is-cart-empty")}))};const e=()=>fetch(`/cart.js`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json;"}}).then((t=>{if(!t.ok)throw t;return t.json()}));window.FoxThemeCartHelpers=window.FoxThemeCartHelpers||{};window.FoxThemeCartHelpers={updateCartCount:t,getState:e}}};var e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};t[s].call(o.exports,o,o.exports,i);return o.exports}!function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};i.d(e,{a:e});return e}}();!function(){i.d=function(t,e){for(var s in e)if(i.o(e,s)&&!i.o(t,s))Object.defineProperty(t,s,{enumerable:true,get:e[s]})}}();!function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}();var s={};!function(){"use strict";var t=i(408);var e=i.n(t);var s=i(707);var n=i.n(s);var o=i(364);var r=i(459);function a(t,e,i){if(e in t)Object.defineProperty(t,e,{value:i,enumerable:true,configurable:true,writable:true});else t[e]=i;return t}class h{constructor(){a(this,"handleClick",(()=>{clearTimeout(this.removeTimeoutId);this.noti.classList.add("f-hidden");setTimeout(this.removeNoti,2*this.transitionDuration)}));this.noti=null;this.removeTimeoutId=null;this.hideTimeoutId=null;this.transitionDuration=300}setNoti(t,e,i){let s;if("warning"===t)s=`<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;else if("success"===t)s=`<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;this.noti=document.createElement("div");this.noti.classList.add("f-notification");this.noti.classList.add(t);if(i)this.noti.classList.add("f-notification--sticky");this.noti.innerHTML=`${s}<div class="ml-3">${e}</div>`}show({target:t,type:e,message:i,method:s="after",last:n=3e3,delay:o=0,debug:r=false,sticky:a=false}){this.clearTimeout();this.removeNoti();this.setNoti(e,i,a);setTimeout((()=>{null===t||void 0===t?void 0:t[s](this.noti);requestAnimationFrame((()=>this.noti.classList.add("show")));if(!r)this.hideTimeoutId=setTimeout((()=>{this.noti.classList.add("hide");this.removeTimeoutId=setTimeout(this.removeNoti,2*this.transitionDuration)}),n)}),o)}clearTimeout(){clearTimeout(this.removeTimeoutId);clearTimeout(this.hideTimeoutId)}removeNoti(){if(this.noti)this.noti.remove()}}class l{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(t,e){this.events[t]=this.events[t]||[];this.events[t].push(e);return()=>this.unSubscribe(t,e)}unSubscribe(t,e){const i=this.events[t];if(i&&Array.isArray(i))for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}}emit(t,...e){void 0;void 0;void 0;(this.events[t]||[]).forEach((t=>{t(...e)}))}}var c=i(116);function d(t,e,i){if(e in t)Object.defineProperty(t,e,{value:i,enumerable:true,configurable:true,writable:true});else t[e]=i;return t}class p{constructor(t,e={}){d(this,"init",(()=>{if(this.container){this.container.classList.add("flickity-wrapper");if(this.settings.adaptiveHeight)this.container.classList.add("flickity-adaptive-height")}this.instance=new window.FoxTheme.Flickity(this.container,this.settings);if(this.inlineOptions.autoPlay)this.instance.on("pointerDown",(()=>{this.instance.playPlayer()}))}));d(this,"calcArrowsPos",(()=>{const t=this.container&&this.container.querySelector(".f-image");if(t){let e=t.clientHeight;if(0===e)e="50%";this.container.style.setProperty("--arrows-offset-top",parseInt(e)/2+"px");this.container.classList.add("flickity-button-initialized")}}));d(this,"_onInit",(()=>{const{prevNextButtons:t,pageDots:e}=this.options;const{calcButtonPosition:i}=this.container.dataset;if(t&&"true"===i){this.container&&this.container.classList.add("flickity-with-nav");setTimeout((()=>this.calcArrowsPos()),500)}if(e)this.container&&this.container.classList.add("flickity-with-dots");this.initialized=true}));d(this,"destroy",(()=>{this.instance.destroy();this.initialized=false}));if(!t)return;this.container=t;const{sliderOptions:i}=t.dataset;const s=i?JSON.parse(i):{};this.inlineOptions=s;this.options={...s,...e};const{on:n={},onReady:o=(()=>{})}=e;this.settings={cellAlign:"true"===document.body.dataset.rtl?"right":"left",rightToLeft:"true"===document.body.dataset.rtl,watchCSS:true,pageDots:false,autoPlay:false,prevNextButtons:false,wrapAround:false,pauseAutoPlayOnHover:false,arrowShape:{x0:10,x1:60,y1:50,x2:65,y2:40,x3:25},freeScrollFriction:.01,...this.options,on:{...n,ready:()=>{o();this._onInit()}}};this.init()}}function u(t){return fetch("/products/"+t+".js").then((function(t){return t.json()}))}function f(t,e){y(t);if("number"!==typeof e)throw new TypeError(e+" is not a Number.");var i=t.variants.filter((function(t){return t.id===e}));return i[0]||null}function m(t,e){y(t);var i=g(t,e);return v(t,i)}function v(t,e){y(t);w(e);var i=t.variants.filter((function(t){return e.every((function(e,i){return t.options[i]===e}))}));return i[0]||null}function g(t,e){y(t);_(e);var i=[];e.forEach((function(e){for(var s=0;s<t.options.length;s++)if(t.options[s].name.toLowerCase()===e.name.toLowerCase()){i[s]=e.value;break}}));return i}function y(t){if("object"!==typeof t)throw new TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw new Error(t+" is empty.")}function _(t){if(!Array.isArray(t))throw new TypeError(t+" is not an array.");if(0===t.length)return[];if(t[0].hasOwnProperty("name")){if("string"!==typeof t[0].name)throw new TypeError("Invalid value type passed for name of option "+t[0].name+". Value should be string.")}else throw new Error(t[0]+"does not contain name key.")}function w(t){if(Array.isArray(t)&&"object"===typeof t[0])throw new Error(t+"is not a valid array of options.")}var S=i(940);class x{constructor(t){this.confettiInterval=null;this.containerEl=null;this.confettiColors=["#EF2964","#00C09D","#2D87B0","#48485E","#EFFF1D"];this.confettiAnimations=["slow","medium","fast"];this.timeRun=0;this.container=t;this.setupElement();this.render()}setupElement(){const t=document.createElement("div");const e=this.container.style.position;if("relative"!==e||"absolute"!==e)this.container.style.position="relative";t.classList.add("f-confetti-container");this.container.appendChild(t);this.containerEl=t}stopConfetti(){clearInterval(this.confettiInterval);setTimeout((()=>this.containerEl.remove()),1500)}render(){this.confettiInterval=setInterval((()=>{this.timeRun+=1;if(this.timeRun>=160)this.stopConfetti();const t=document.createElement("div");const e=Math.floor(3*Math.random())+7+"px";const i=this.confettiColors[Math.floor(Math.random()*this.confettiColors.length)];const s=Math.floor(Math.random()*this.container.offsetWidth)+"px";const n=this.confettiAnimations[Math.floor(Math.random()*this.confettiAnimations.length)];t.classList.add("f-confetti","f-confetti--animation-"+n);t.style.left=s;t.style.width=e;t.style.height=e;t.style.backgroundColor=i;t.removeTimeout=setTimeout((function(){t.parentNode.removeChild(t)}),3e3);this.containerEl.appendChild(t)}),20)}}function b(t,e,i){const s=document.createElement(e);if(t)s.className=t;if(i)i.appendChild(s);return s}function C(t,e){t.x=e.x;t.y=e.y;if(void 0!==e.id)t.id=e.id;return t}function P(t){t.x=Math.round(t.x);t.y=Math.round(t.y)}function E(t,e){const i=Math.abs(t.x-e.x);const s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function D(t,e){return t.x===e.x&&t.y===e.y}function L(t,e,i){return Math.min(Math.max(t,e),i)}function A(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;if(void 0!==i)s+=` scale3d(${i},${i},1)`;return s}function I(t,e,i,s){t.style.transform=A(e,i,s)}const z="cubic-bezier(.4,0,.22,1)";function T(t,e,i,s){t.style.transition=e?`${e} ${i}ms ${s||z}`:"none"}function O(t,e,i){t.style.width="number"===typeof e?`${e}px`:e;t.style.height="number"===typeof i?`${i}px`:i}function M(t){T(t)}function F(t){if("decode"in t)return t.decode().catch((()=>{}));if(t.complete)return Promise.resolve(t);return new Promise(((e,i)=>{t.onload=()=>e(t);t.onerror=i}))}const k={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function Z(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function N(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"===typeof t?t:e;if(n)s=Array.from(i.querySelectorAll(n))}return s}function R(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}let W=false;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{W=true}}))}catch(t){}class B{constructor(){this._pool=[]}add(t,e,i,s){this._toggleListener(t,e,i,s)}remove(t,e,i,s){this._toggleListener(t,e,i,s,true)}removeAll(){this._pool.forEach((t=>{this._toggleListener(t.target,t.type,t.listener,t.passive,true,true)}));this._pool=[]}_toggleListener(t,e,i,s,n,o){if(!t)return;const r=n?"removeEventListener":"addEventListener";const a=e.split(" ");a.forEach((e=>{if(e){if(!o)if(n)this._pool=this._pool.filter((s=>s.type!==e||s.listener!==i||s.target!==t));else this._pool.push({target:t,type:e,listener:i,passive:s});const a=W?{passive:s||false}:false;t[r](e,i,a)}}))}}function H(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function U(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);if(e[i])o=e[i]}return Number(o)||0}function j(t,e,i,s){return{x:e.x-U("left",t,e,i,s)-U("right",t,e,i,s),y:e.y-U("top",t,e,i,s)-U("bottom",t,e,i,s)}}class V{constructor(t){this.slide=t;this.currZoomLevel=1;this.center={x:0,y:0};this.max={x:0,y:0};this.min={x:0,y:0}}update(t){this.currZoomLevel=t;if(!this.slide.width)this.reset();else{this._updateAxis("x");this._updateAxis("y");this.slide.pswp.dispatch("calcBounds",{slide:this.slide})}}_updateAxis(t){const{pswp:e}=this.slide;const i=this.slide["x"===t?"width":"height"]*this.currZoomLevel;const s="x"===t?"left":"top";const n=U(s,e.options,e.viewportSize,this.slide.data,this.slide.index);const o=this.slide.panAreaSize[t];this.center[t]=Math.round((o-i)/2)+n;this.max[t]=i>o?Math.round(o-i)+n:this.center[t];this.min[t]=i>o?n:this.center[t]}reset(){this.center.x=0;this.center.y=0;this.max.x=0;this.max.y=0;this.min.x=0;this.min.y=0}correctPan(t,e){return L(e,this.max[t],this.min[t])}}const q=4e3;class G{constructor(t,e,i,s){this.pswp=s;this.options=t;this.itemData=e;this.index=i;this.panAreaSize=null;this.elementSize=null;this.fit=1;this.fill=1;this.vFill=1;this.initial=1;this.secondary=1;this.max=1;this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s;this.panAreaSize=i;const n=i.x/s.x;const o=i.y/s.y;this.fit=Math.min(1,n<o?n:o);this.fill=Math.min(1,n>o?n:o);this.vFill=Math.min(1,o);this.initial=this._getInitial();this.secondary=this._getSecondary();this.max=Math.max(this.initial,this.secondary,this._getMax());this.min=Math.min(this.fit,this.initial,this.secondary);if(this.pswp)this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const e=t+"ZoomLevel";const i=this.options[e];if(!i)return;if("function"===typeof i)return i(this);if("fill"===i)return this.fill;if("fit"===i)return this.fit;return Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");if(t)return t;t=Math.min(1,3*this.fit);if(this.elementSize&&t*this.elementSize.x>q)t=q/this.elementSize.x;return t}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}class X{constructor(t,e,i){this.data=t;this.index=e;this.pswp=i;this.isActive=e===i.currIndex;this.currentResolution=0;this.panAreaSize={x:0,y:0};this.pan={x:0,y:0};this.isFirstSlide=this.isActive&&!i.opener.isOpen;this.zoomLevels=new G(i.options,t,e,i);this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:e});this.content=this.pswp.contentLoader.getContentBySlide(this);this.container=b("pswp__zoom-wrap","div");this.holderElement=null;this.currZoomLevel=1;this.width=this.content.width;this.height=this.content.height;this.heavyAppended=false;this.bounds=new V(this);this.prevDisplayedWidth=-1;this.prevDisplayedHeight=-1;this.pswp.dispatch("slideInit",{slide:this})}setIsActive(t){if(t&&!this.isActive)this.activate();else if(!t&&this.isActive)this.deactivate()}append(t){this.holderElement=t;this.container.style.transformOrigin="0 0";if(!this.data)return;this.calculateSize();this.load();this.updateContentSize();this.appendHeavy();this.holderElement.appendChild(this.container);this.zoomAndPanToInitial();this.pswp.dispatch("firstZoomPan",{slide:this});this.applyCurrentZoomPan();this.pswp.dispatch("afterSetContent",{slide:this});if(this.isActive)this.activate()}load(){this.content.load(false);this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:t}=this;const e=true;if(this.heavyAppended||!t.opener.isOpen||t.mainScroll.isShifted()||!this.isActive&&!e)return;if(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented)return;this.heavyAppended=true;this.content.append();this.pswp.dispatch("appendHeavyContent",{slide:this})}activate(){this.isActive=true;this.appendHeavy();this.content.activate();this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=false;this.content.deactivate();if(this.currZoomLevel!==this.zoomLevels.initial)this.calculateSize();this.currentResolution=0;this.zoomAndPanToInitial();this.applyCurrentZoomPan();this.updateContentSize();this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=false;this.content.remove();this.container.remove();this.pswp.dispatch("slideDestroy",{slide:this})}resize(){if(this.currZoomLevel===this.zoomLevels.initial||!this.isActive){this.calculateSize();this.currentResolution=0;this.zoomAndPanToInitial();this.applyCurrentZoomPan();this.updateContentSize()}else{this.calculateSize();this.bounds.update(this.currZoomLevel);this.panTo(this.pan.x,this.pan.y)}}updateContentSize(t){const e=this.currentResolution||this.zoomLevels.initial;if(!e)return;const i=Math.round(this.width*e)||this.pswp.viewportSize.x;const s=Math.round(this.height*e)||this.pswp.viewportSize.y;if(!this.sizeChanged(i,s)&&!t)return;this.content.setDisplayedSize(i,s)}sizeChanged(t,e){if(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight){this.prevDisplayedWidth=t;this.prevDisplayedHeight=e;return true}return false}getPlaceholderElement(){var t;return null===(t=this.content.placeholder)||void 0===t?void 0:t.element}zoomTo(t,e,i,s){const{pswp:n}=this;if(!this.isZoomable()||n.mainScroll.isShifted())return;n.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:i});n.animations.stopAllPan();const o=this.currZoomLevel;if(!s)t=L(t,this.zoomLevels.min,this.zoomLevels.max);this.setZoomLevel(t);this.pan.x=this.calculateZoomToPanOffset("x",e,o);this.pan.y=this.calculateZoomToPanOffset("y",e,o);P(this.pan);const r=()=>{this._setResolution(t);this.applyCurrentZoomPan()};if(!i)r();else n.animations.startTransition({isPan:true,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:r,duration:i,easing:n.options.easing})}toggleZoom(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}setZoomLevel(t){this.currZoomLevel=t;this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(t,e,i){const s=this.bounds.max[t]-this.bounds.min[t];if(0===s)return this.bounds.center[t];if(!e)e=this.pswp.getViewportCenterPoint();if(!i)i=this.zoomLevels.initial;const n=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*n+e[t])}panTo(t,e){this.pan.x=this.bounds.correctPan("x",t);this.pan.y=this.bounds.correctPan("y",e);this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel);if(this===this.pswp.currSlide)this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial;this.bounds.update(this.currZoomLevel);C(this.pan,this.bounds.center);this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(t,e,i){i/=this.currentResolution||this.zoomLevels.initial;I(this.container,t,e,i)}calculateSize(){const{pswp:t}=this;C(this.panAreaSize,j(t.options,t.viewportSize,this.data,this.index));this.zoomLevels.update(this.width,this.height,this.panAreaSize);t.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return A(this.pan.x,this.pan.y,t)}_setResolution(t){if(t===this.currentResolution)return;this.currentResolution=t;this.updateContentSize();this.pswp.dispatch("resolutionChanged")}}const $=.35;const K=.6;const Y=.4;const Q=.5;function J(t,e){return t*e/(1-e)}class tt{constructor(t){this.gestures=t;this.pswp=t.pswp;this.startPan={x:0,y:0}}start(){if(this.pswp.currSlide)C(this.startPan,this.pswp.currSlide.pan);this.pswp.animations.stopAll()}change(){const{p1:t,prevP1:e,dragAxis:i}=this.gestures;const{currSlide:s}=this.pswp;if("y"===i&&this.pswp.options.closeOnVerticalDrag&&s&&s.currZoomLevel<=s.zoomLevels.fit&&!this.gestures.isMultitouch){const i=s.pan.y+(t.y-e.y);if(!this.pswp.dispatch("verticalDrag",{panY:i}).defaultPrevented){this._setPanWithFriction("y",i,K);const t=1-Math.abs(this._getVerticalDragRatio(s.pan.y));this.pswp.applyBgOpacity(t);s.applyCurrentZoomPan()}}else{const t=this._panOrMoveMainScroll("x");if(!t){this._panOrMoveMainScroll("y");if(s){P(s.pan);s.applyCurrentZoomPan()}}}}end(){const{velocity:t}=this.gestures;const{mainScroll:e,currSlide:i}=this.pswp;let s=0;this.pswp.animations.stopAll();if(e.isShifted()){const i=e.x-e.getCurrSlideX();const n=i/this.pswp.viewportSize.x;if(t.x<-Q&&n<0||t.x<.1&&n<-.5){s=1;t.x=Math.min(t.x,0)}else if(t.x>Q&&n>0||t.x>-.1&&n>.5){s=-1;t.x=Math.max(t.x,0)}e.moveIndexBy(s,true,t.x)}if(i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch)this.gestures.zoomLevels.correctZoomPan(true);else{this._finishPanGestureForAxis("x");this._finishPanGestureForAxis("y")}}_finishPanGestureForAxis(t){const{velocity:e}=this.gestures;const{currSlide:i}=this.pswp;if(!i)return;const{pan:s,bounds:n}=i;const o=s[t];const r=this.pswp.bgOpacity<1&&"y"===t;const a=.995;const h=o+J(e[t],a);if(r){const t=this._getVerticalDragRatio(o);const e=this._getVerticalDragRatio(h);if(t<0&&e<-Y||t>0&&e>Y){this.pswp.close();return}}const l=n.correctPan(t,h);if(o===l)return;const c=l===h?1:.82;const d=this.pswp.bgOpacity;const p=l-o;this.pswp.animations.startSpring({name:"panGesture"+t,isPan:true,start:o,end:l,velocity:e[t],dampingRatio:c,onUpdate:e=>{if(r&&this.pswp.bgOpacity<1){const t=1-(l-e)/p;this.pswp.applyBgOpacity(L(d+(1-d)*t,0,1))}s[t]=Math.floor(e);i.applyCurrentZoomPan()}})}_panOrMoveMainScroll(t){const{p1:e,dragAxis:i,prevP1:s,isMultitouch:n}=this.gestures;const{currSlide:o,mainScroll:r}=this.pswp;const a=e[t]-s[t];const h=r.x+a;if(!a||!o)return false;if("x"===t&&!o.isPannable()&&!n){r.moveTo(h,true);return true}const{bounds:l}=o;const c=o.pan[t]+a;if(this.pswp.options.allowPanToNext&&"x"===i&&"x"===t&&!n){const e=r.getCurrSlideX();const i=r.x-e;const s=a>0;const n=!s;if(c>l.min[t]&&s){const e=l.min[t]<=this.startPan[t];if(e){r.moveTo(h,true);return true}else this._setPanWithFriction(t,c)}else if(c<l.max[t]&&n){const e=this.startPan[t]<=l.max[t];if(e){r.moveTo(h,true);return true}else this._setPanWithFriction(t,c)}else if(0!==i){if(i>0){r.moveTo(Math.max(h,e),true);return true}else if(i<0){r.moveTo(Math.min(h,e),true);return true}}else this._setPanWithFriction(t,c)}else if("y"===t){if(!r.isShifted()&&l.min.y!==l.max.y)this._setPanWithFriction(t,c)}else this._setPanWithFriction(t,c);return false}_getVerticalDragRatio(t){var e;return(t-((null===(e=this.pswp.currSlide)||void 0===e?void 0:e.bounds.center.y)??0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(t,e,i){const{currSlide:s}=this.pswp;if(!s)return;const{pan:n,bounds:o}=s;const r=o.correctPan(t,e);if(r!==e||i){const s=Math.round(e-n[t]);n[t]+=s*(i||$)}else n[t]=e}}const et=.05;const it=.15;function st(t,e,i){t.x=(e.x+i.x)/2;t.y=(e.y+i.y)/2;return t}class nt{constructor(t){this.gestures=t;this._startPan={x:0,y:0};this._startZoomPoint={x:0,y:0};this._zoomPoint={x:0,y:0};this._wasOverFitZoomLevel=false;this._startZoomLevel=1}start(){const{currSlide:t}=this.gestures.pswp;if(t){this._startZoomLevel=t.currZoomLevel;C(this._startPan,t.pan)}this.gestures.pswp.animations.stopAllPan();this._wasOverFitZoomLevel=false}change(){const{p1:t,startP1:e,p2:i,startP2:s,pswp:n}=this.gestures;const{currSlide:o}=n;if(!o)return;const r=o.zoomLevels.min;const a=o.zoomLevels.max;if(!o.isZoomable()||n.mainScroll.isShifted())return;st(this._startZoomPoint,e,s);st(this._zoomPoint,t,i);let h=1/E(e,s)*E(t,i)*this._startZoomLevel;if(h>o.zoomLevels.initial+o.zoomLevels.initial/15)this._wasOverFitZoomLevel=true;if(h<r)if(n.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const t=1-(r-h)/(r/1.2);if(!n.dispatch("pinchClose",{bgOpacity:t}).defaultPrevented)n.applyBgOpacity(t)}else h=r-(r-h)*it;else if(h>a)h=a+(h-a)*et;o.pan.x=this._calculatePanForZoomLevel("x",h);o.pan.y=this._calculatePanForZoomLevel("y",h);o.setZoomLevel(h);o.applyCurrentZoomPan()}end(){const{pswp:t}=this.gestures;const{currSlide:e}=t;if((!e||e.currZoomLevel<e.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&t.options.pinchToClose)t.close();else this.correctZoomPan()}_calculatePanForZoomLevel(t,e){const i=e/this._startZoomLevel;return this._zoomPoint[t]-(this._startZoomPoint[t]-this._startPan[t])*i}correctZoomPan(t){const{pswp:e}=this.gestures;const{currSlide:i}=e;if(!(null!==i&&void 0!==i&&i.isZoomable()))return;if(0===this._zoomPoint.x)t=true;const s=i.currZoomLevel;let n;let o=true;if(s<i.zoomLevels.initial)n=i.zoomLevels.initial;else if(s>i.zoomLevels.max)n=i.zoomLevels.max;else{o=false;n=s}const r=e.bgOpacity;const a=e.bgOpacity<1;const h=C({x:0,y:0},i.pan);let l=C({x:0,y:0},h);if(t){this._zoomPoint.x=0;this._zoomPoint.y=0;this._startZoomPoint.x=0;this._startZoomPoint.y=0;this._startZoomLevel=s;C(this._startPan,h)}if(o)l={x:this._calculatePanForZoomLevel("x",n),y:this._calculatePanForZoomLevel("y",n)};i.setZoomLevel(n);l={x:i.bounds.correctPan("x",l.x),y:i.bounds.correctPan("y",l.y)};i.setZoomLevel(s);const c=!D(l,h);if(!c&&!o&&!a){i._setResolution(n);i.applyCurrentZoomPan();return}e.animations.stopAllPan();e.animations.startSpring({isPan:true,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:t=>{t/=1e3;if(c||o){if(c){i.pan.x=h.x+(l.x-h.x)*t;i.pan.y=h.y+(l.y-h.y)*t}if(o){const e=s+(n-s)*t;i.setZoomLevel(e)}i.applyCurrentZoomPan()}if(a&&e.bgOpacity<1)e.applyBgOpacity(L(r+(1-r)*t,0,1))},onComplete:()=>{i._setResolution(n);i.applyCurrentZoomPan()}})}}function ot(t){return!!t.target.closest(".pswp__container")}class rt{constructor(t){this.gestures=t}click(t,e){const i=e.target.classList;const s=i.contains("pswp__img");const n=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");if(s)this._doClickOrTapAction("imageClick",t,e);else if(n)this._doClickOrTapAction("bgClick",t,e)}tap(t,e){if(ot(e))this._doClickOrTapAction("tap",t,e)}doubleTap(t,e){if(ot(e))this._doClickOrTapAction("doubleTap",t,e)}_doClickOrTapAction(t,e,i){var s;const{pswp:n}=this.gestures;const{currSlide:o}=n;const r=t+"Action";const a=n.options[r];if(n.dispatch(r,{point:e,originalEvent:i}).defaultPrevented)return;if("function"===typeof a){a.call(n,e,i);return}switch(a){case"close":case"next":n[a]();break;case"zoom":null===o||void 0===o?void 0:o.toggleZoom(e);break;case"zoom-or-close":if(null!==o&&void 0!==o&&o.isZoomable()&&o.zoomLevels.secondary!==o.zoomLevels.initial)o.toggleZoom(e);else if(n.options.clickToCloseNonZoomable)n.close();break;case"toggle-controls":null===(s=this.gestures.pswp.element)||void 0===s?void 0:s.classList.toggle("pswp--ui-visible");break}}}const at=10;const ht=300;const lt=25;class ct{constructor(t){this.pswp=t;this.dragAxis=null;this.p1={x:0,y:0};this.p2={x:0,y:0};this.prevP1={x:0,y:0};this.prevP2={x:0,y:0};this.startP1={x:0,y:0};this.startP2={x:0,y:0};this.velocity={x:0,y:0};this._lastStartP1={x:0,y:0};this._intervalP1={x:0,y:0};this._numActivePoints=0;this._ongoingPointers=[];this._touchEventEnabled="ontouchstart"in window;this._pointerEventEnabled=!!window.PointerEvent;this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1;this._numActivePoints=0;this._intervalTime=0;this._velocityCalculated=false;this.isMultitouch=false;this.isDragging=false;this.isZooming=false;this.raf=null;this._tapTimer=null;if(!this.supportsTouch)t.options.allowPanToNext=false;this.drag=new tt(this);this.zoomLevels=new nt(this);this.tapHandler=new rt(this);t.on("bindEvents",(()=>{t.events.add(t.scrollWrap,"click",this._onClick.bind(this));if(this._pointerEventEnabled)this._bindEvents("pointer","down","up","cancel");else if(this._touchEventEnabled){this._bindEvents("touch","start","end","cancel");if(t.scrollWrap){t.scrollWrap.ontouchmove=()=>{};t.scrollWrap.ontouchend=()=>{}}}else this._bindEvents("mouse","down","up")}))}_bindEvents(t,e,i,s){const{pswp:n}=this;const{events:o}=n;const r=s?t+s:"";o.add(n.scrollWrap,t+e,this.onPointerDown.bind(this));o.add(window,t+"move",this.onPointerMove.bind(this));o.add(window,t+i,this.onPointerUp.bind(this));if(r)o.add(n.scrollWrap,r,this.onPointerUp.bind(this))}onPointerDown(t){const e="mousedown"===t.type||"mouse"===t.pointerType;if(e&&t.button>0)return;const{pswp:i}=this;if(!i.opener.isOpen){t.preventDefault();return}if(i.dispatch("pointerDown",{originalEvent:t}).defaultPrevented)return;if(e){i.mouseDetected();this._preventPointerEventBehaviour(t)}i.animations.stopAll();this._updatePoints(t,"down");if(1===this._numActivePoints){this.dragAxis=null;C(this.startP1,this.p1)}if(this._numActivePoints>1){this._clearTapTimer();this.isMultitouch=true}else this.isMultitouch=false}onPointerMove(t){t.preventDefault();if(!this._numActivePoints)return;this._updatePoints(t,"move");if(this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented)return;if(1===this._numActivePoints&&!this.isDragging){if(!this.dragAxis)this._calculateDragDirection();if(this.dragAxis&&!this.isDragging){if(this.isZooming){this.isZooming=false;this.zoomLevels.end()}this.isDragging=true;this._clearTapTimer();this._updateStartPoints();this._intervalTime=Date.now();this._velocityCalculated=false;C(this._intervalP1,this.p1);this.velocity.x=0;this.velocity.y=0;this.drag.start();this._rafStopLoop();this._rafRenderLoop()}}else if(this._numActivePoints>1&&!this.isZooming){this._finishDrag();this.isZooming=true;this._updateStartPoints();this.zoomLevels.start();this._rafStopLoop();this._rafRenderLoop()}}_finishDrag(){if(this.isDragging){this.isDragging=false;if(!this._velocityCalculated)this._updateVelocity(true);this.drag.end();this.dragAxis=null}}onPointerUp(t){if(!this._numActivePoints)return;this._updatePoints(t,"up");if(this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented)return;if(0===this._numActivePoints){this._rafStopLoop();if(this.isDragging)this._finishDrag();else if(!this.isZooming&&!this.isMultitouch)this._finishTap(t)}if(this._numActivePoints<2&&this.isZooming){this.isZooming=false;this.zoomLevels.end();if(1===this._numActivePoints){this.dragAxis=null;this._updateStartPoints()}}}_rafRenderLoop(){if(this.isDragging||this.isZooming){this._updateVelocity();if(this.isDragging){if(!D(this.p1,this.prevP1))this.drag.change()}else if(!D(this.p1,this.prevP1)||!D(this.p2,this.prevP2))this.zoomLevels.change();this._updatePrevPoints();this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this))}}_updateVelocity(t){const e=Date.now();const i=e-this._intervalTime;if(i<50&&!t)return;this.velocity.x=this._getVelocity("x",i);this.velocity.y=this._getVelocity("y",i);this._intervalTime=e;C(this._intervalP1,this.p1);this._velocityCalculated=true}_finishTap(t){const{mainScroll:e}=this.pswp;if(e.isShifted()){e.moveIndexBy(0,true);return}if(t.type.indexOf("cancel")>0)return;if("mouseup"===t.type||"mouse"===t.pointerType){this.tapHandler.click(this.startP1,t);return}const i=this.pswp.options.doubleTapAction?ht:0;if(this._tapTimer){this._clearTapTimer();if(E(this._lastStartP1,this.startP1)<lt)this.tapHandler.doubleTap(this.startP1,t)}else{C(this._lastStartP1,this.startP1);this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,t);this._clearTapTimer()}),i)}}_clearTapTimer(){if(this._tapTimer){clearTimeout(this._tapTimer);this._tapTimer=null}}_getVelocity(t,e){const i=this.p1[t]-this._intervalP1[t];if(Math.abs(i)>1&&e>5)return i/e;return 0}_rafStopLoop(){if(this.raf){cancelAnimationFrame(this.raf);this.raf=null}}_preventPointerEventBehaviour(t){t.preventDefault()}_updatePoints(t,e){if(this._pointerEventEnabled){const i=t;const s=this._ongoingPointers.findIndex((t=>t.id===i.pointerId));if("up"===e&&s>-1)this._ongoingPointers.splice(s,1);else if("down"===e&&-1===s)this._ongoingPointers.push(this._convertEventPosToPoint(i,{x:0,y:0}));else if(s>-1)this._convertEventPosToPoint(i,this._ongoingPointers[s]);this._numActivePoints=this._ongoingPointers.length;if(this._numActivePoints>0)C(this.p1,this._ongoingPointers[0]);if(this._numActivePoints>1)C(this.p2,this._ongoingPointers[1])}else{const i=t;this._numActivePoints=0;if(i.type.indexOf("touch")>-1){if(i.touches&&i.touches.length>0){this._convertEventPosToPoint(i.touches[0],this.p1);this._numActivePoints++;if(i.touches.length>1){this._convertEventPosToPoint(i.touches[1],this.p2);this._numActivePoints++}}}else{this._convertEventPosToPoint(t,this.p1);if("up"===e)this._numActivePoints=0;else this._numActivePoints++}}}_updatePrevPoints(){C(this.prevP1,this.p1);C(this.prevP2,this.p2)}_updateStartPoints(){C(this.startP1,this.p1);C(this.startP2,this.p2);this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==t){const e=t>0?"x":"y";if(Math.abs(this.p1[e]-this.startP1[e])>=at)this.dragAxis=e}}}_convertEventPosToPoint(t,e){e.x=t.pageX-this.pswp.offset.x;e.y=t.pageY-this.pswp.offset.y;if("pointerId"in t)e.id=t.pointerId;else if(void 0!==t.identifier)e.id=t.identifier;return e}_onClick(t){if(this.pswp.mainScroll.isShifted()){t.preventDefault();t.stopPropagation()}}}const dt=.35;class pt{constructor(t){this.pswp=t;this.x=0;this.slideWidth=0;this._currPositionIndex=0;this._prevPositionIndex=0;this._containerShiftIndex=-1;this.itemHolders=[]}resize(t){const{pswp:e}=this;const i=Math.round(e.viewportSize.x+e.viewportSize.x*e.options.spacing);const s=i!==this.slideWidth;if(s){this.slideWidth=i;this.moveTo(this.getCurrSlideX())}this.itemHolders.forEach(((e,i)=>{if(s)I(e.el,(i+this._containerShiftIndex)*this.slideWidth);if(t&&e.slide)e.slide.resize()}))}resetPosition(){this._currPositionIndex=0;this._prevPositionIndex=0;this.slideWidth=0;this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let t=0;t<3;t++){const e=b("pswp__item","div",this.pswp.container);e.setAttribute("role","group");e.setAttribute("aria-roledescription","slide");e.setAttribute("aria-hidden","true");e.style.display=1===t?"block":"none";this.itemHolders.push({el:e})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(t,e,i){const{pswp:s}=this;let n=s.potentialIndex+t;const o=s.getNumItems();if(s.canLoop()){n=s.getLoopedIndex(n);const e=(t+o)%o;if(e<=o/2)t=e;else t=e-o}else{if(n<0)n=0;else if(n>=o)n=o-1;t=n-s.potentialIndex}s.potentialIndex=n;this._currPositionIndex-=t;s.animations.stopMainScroll();const r=this.getCurrSlideX();if(!e){this.moveTo(r);this.updateCurrItem()}else{s.animations.startSpring({isMainScroll:true,start:this.x,end:r,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:t=>{this.moveTo(t)},onComplete:()=>{this.updateCurrItem();s.appendHeavy()}});let t=s.potentialIndex-s.currIndex;if(s.canLoop()){const e=(t+o)%o;if(e<=o/2)t=e;else t=e-o}if(Math.abs(t)>1)this.updateCurrItem()}return Boolean(t)}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var t;const{pswp:e}=this;const i=this._prevPositionIndex-this._currPositionIndex;if(!i)return;this._prevPositionIndex=this._currPositionIndex;e.currIndex=e.potentialIndex;let s=Math.abs(i);let n;if(s>=3){this._containerShiftIndex+=i+(i>0?-3:3);s=3}for(let t=0;t<s;t++)if(i>0){n=this.itemHolders.shift();if(n){this.itemHolders[2]=n;this._containerShiftIndex++;I(n.el,(this._containerShiftIndex+2)*this.slideWidth);e.setContent(n,e.currIndex-s+t+2)}}else{n=this.itemHolders.pop();if(n){this.itemHolders.unshift(n);this._containerShiftIndex--;I(n.el,this._containerShiftIndex*this.slideWidth);e.setContent(n,e.currIndex+s-t-2)}}if(Math.abs(this._containerShiftIndex)>50&&!this.isShifted()){this.resetPosition();this.resize()}e.animations.stopAllPan();this.itemHolders.forEach(((t,e)=>{if(t.slide)t.slide.setIsActive(1===e)}));e.currSlide=null===(t=this.itemHolders[1])||void 0===t?void 0:t.slide;e.contentLoader.updateLazy(i);if(e.currSlide)e.currSlide.applyCurrentZoomPan();e.dispatch("change")}moveTo(t,e){if(!this.pswp.canLoop()&&e){let e=(this.slideWidth*this._currPositionIndex-t)/this.slideWidth;e+=this.pswp.currIndex;const i=Math.round(t-this.x);if(e<0&&i>0||e>=this.pswp.getNumItems()-1&&i<0)t=this.x+i*dt}this.x=t;if(this.pswp.container)I(this.pswp.container,t);this.pswp.dispatch("moveMainScroll",{x:t,dragging:e??false})}}const ut={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9};const ft=(t,e)=>e?t:ut[t];class mt{constructor(t){this.pswp=t;this._wasFocused=false;t.on("bindEvents",(()=>{if(!t.options.initialPointerPos)this._focusRoot();t.events.add(document,"focusin",this._onFocusIn.bind(this));t.events.add(document,"keydown",this._onKeyDown.bind(this))}));const e=document.activeElement;t.on("destroy",(()=>{if(t.options.returnFocus&&e&&this._wasFocused)e.focus()}))}_focusRoot(){if(!this._wasFocused&&this.pswp.element){this.pswp.element.focus();this._wasFocused=true}}_onKeyDown(t){const{pswp:e}=this;if(e.dispatch("keydown",{originalEvent:t}).defaultPrevented)return;if(Z(t))return;let i;let s;let n=false;const o="key"in t;switch(o?t.key:t.keyCode){case ft("Escape",o):if(e.options.escKey)i="close";break;case ft("z",o):i="toggleZoom";break;case ft("ArrowLeft",o):s="x";break;case ft("ArrowUp",o):s="y";break;case ft("ArrowRight",o):s="x";n=true;break;case ft("ArrowDown",o):n=true;s="y";break;case ft("Tab",o):this._focusRoot();break}if(s){t.preventDefault();const{currSlide:o}=e;if(e.options.arrowKeys&&"x"===s&&e.getNumItems()>1)i=n?"next":"prev";else if(o&&o.currZoomLevel>o.zoomLevels.fit){o.pan[s]+=n?-80:80;o.panTo(o.pan.x,o.pan.y)}}if(i){t.preventDefault();e[i]()}}_onFocusIn(t){const{template:e}=this.pswp;if(e&&document!==t.target&&e!==t.target&&!e.contains(t.target))e.focus()}}const vt="cubic-bezier(.4,0,.22,1)";class gt{constructor(t){this.props=t;const{target:e,onComplete:i,transform:s,onFinish:n=(()=>{}),duration:o=333,easing:r=vt}=t;this.onFinish=n;const a=s?"transform":"opacity";const h=t[a]??"";this._target=e;this._onComplete=i;this._finished=false;this._onTransitionEnd=this._onTransitionEnd.bind(this);this._helperTimeout=setTimeout((()=>{T(e,a,o,r);this._helperTimeout=setTimeout((()=>{e.addEventListener("transitionend",this._onTransitionEnd,false);e.addEventListener("transitioncancel",this._onTransitionEnd,false);this._helperTimeout=setTimeout((()=>{this._finalizeAnimation()}),o+500);e.style[a]=h}),30)}),0)}_onTransitionEnd(t){if(t.target===this._target)this._finalizeAnimation()}_finalizeAnimation(){if(!this._finished){this._finished=true;this.onFinish();if(this._onComplete)this._onComplete()}}destroy(){if(this._helperTimeout)clearTimeout(this._helperTimeout);M(this._target);this._target.removeEventListener("transitionend",this._onTransitionEnd,false);this._target.removeEventListener("transitioncancel",this._onTransitionEnd,false);if(!this._finished)this._finalizeAnimation()}}const yt=12;const _t=.75;class wt{constructor(t,e,i){this.velocity=1e3*t;this._dampingRatio=e||_t;this._naturalFrequency=i||yt;this._dampedFrequency=this._naturalFrequency;if(this._dampingRatio<1)this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio)}easeFrame(t,e){let i=0;let s;e/=1e3;const n=Math.E**(-this._dampingRatio*this._naturalFrequency*e);if(1===this._dampingRatio){s=this.velocity+this._naturalFrequency*t;i=(t+s*e)*n;this.velocity=i*-this._naturalFrequency+s*n}else if(this._dampingRatio<1){s=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*t+this.velocity);const o=Math.cos(this._dampedFrequency*e);const r=Math.sin(this._dampedFrequency*e);i=n*(t*o+s*r);this.velocity=i*-this._naturalFrequency*this._dampingRatio+n*(-this._dampedFrequency*t*r+this._dampedFrequency*s*o)}return i}}class St{constructor(t){this.props=t;this._raf=0;const{start:e,end:i,velocity:s,onUpdate:n,onComplete:o,onFinish:r=(()=>{}),dampingRatio:a,naturalFrequency:h}=t;this.onFinish=r;const l=new wt(s,a,h);let c=Date.now();let d=e-i;const p=()=>{if(this._raf){d=l.easeFrame(d,Date.now()-c);if(Math.abs(d)<1&&Math.abs(l.velocity)<50){n(i);if(o)o();this.onFinish()}else{c=Date.now();n(d+i);this._raf=requestAnimationFrame(p)}}};this._raf=requestAnimationFrame(p)}destroy(){if(this._raf>=0)cancelAnimationFrame(this._raf);this._raf=0}}class xt{constructor(){this.activeAnimations=[]}startSpring(t){this._start(t,true)}startTransition(t){this._start(t)}_start(t,e){const i=e?new St(t):new gt(t);this.activeAnimations.push(i);i.onFinish=()=>this.stop(i);return i}stop(t){t.destroy();const e=this.activeAnimations.indexOf(t);if(e>-1)this.activeAnimations.splice(e,1)}stopAll(){this.activeAnimations.forEach((t=>{t.destroy()}));this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((t=>{if(t.props.isPan){t.destroy();return false}return true}))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((t=>{if(t.props.isMainScroll){t.destroy();return false}return true}))}isPanRunning(){return this.activeAnimations.some((t=>t.props.isPan))}}class bt{constructor(t){this.pswp=t;t.events.add(t.element,"wheel",this._onWheel.bind(this))}_onWheel(t){t.preventDefault();const{currSlide:e}=this.pswp;let{deltaX:i,deltaY:s}=t;if(!e)return;if(this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented)return;if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){let i=-s;if(1===t.deltaMode)i*=.05;else i*=t.deltaMode?1:.002;i=2**i;const n=e.currZoomLevel*i;e.zoomTo(n,{x:t.clientX,y:t.clientY})}}else if(e.isPannable()){if(1===t.deltaMode){i*=18;s*=18}e.panTo(e.pan.x-i,e.pan.y-s)}}}function Ct(t){if("string"===typeof t)return t;if(!t||!t.isCustomSVG)return"";const e=t;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';i=i.split("%d").join(e.size||32);if(e.outlineID)i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>';i+=e.inner;i+="</svg>";return i}class Pt{constructor(t,e){var i;const s=e.name||e.className;let n=e.html;if(false===t.options[s])return;if("string"===typeof t.options[s+"SVG"])n=t.options[s+"SVG"];t.dispatch("uiElementCreate",{data:e});let o="";if(e.isButton){o+="pswp__button ";o+=e.className||`pswp__button--${e.name}`}else o+=e.className||`pswp__${e.name}`;let r=e.isButton?e.tagName||"button":e.tagName||"div";r=r.toLowerCase();const a=b(o,r);if(e.isButton){if("button"===r)a.type="button";let{title:i}=e;const{ariaLabel:n}=e;if("string"===typeof t.options[s+"Title"])i=t.options[s+"Title"];if(i)a.title=i;const o=n||i;if(o)a.setAttribute("aria-label",o)}a.innerHTML=Ct(n);if(e.onInit)e.onInit(a,t);if(e.onClick)a.onclick=i=>{if("string"===typeof e.onClick)t[e.onClick]();else if("function"===typeof e.onClick)e.onClick(i,a,t)};const h=e.appendTo||"bar";let l=t.element;if("bar"===h){if(!t.topBar)t.topBar=b("pswp__top-bar pswp__hide-on-close","div",t.scrollWrap);l=t.topBar}else{a.classList.add("pswp__hide-on-close");if("wrapper"===h)l=t.scrollWrap}null===(i=l)||void 0===i?void 0:i.appendChild(t.applyFilters("uiElement",a,e))}}function Et(t,e,i){t.classList.add("pswp__button--arrow");t.setAttribute("aria-controls","pswp__items");e.on("change",(()=>{if(!e.options.loop)if(i)t.disabled=!(e.currIndex<e.getNumItems()-1);else t.disabled=!(e.currIndex>0)}))}const Dt={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:true,appendTo:"wrapper",html:{isCustomSVG:true,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:Et};const Lt={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:true,appendTo:"wrapper",html:{isCustomSVG:true,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(t,e)=>{Et(t,e,true)}};const At={name:"close",title:"Close",order:20,isButton:true,html:{isCustomSVG:true,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"};const It={name:"zoom",title:"Zoom",order:10,isButton:true,html:{isCustomSVG:true,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/>'+'<path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/>'+'<path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"};const zt={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:true,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(t,e)=>{let i;let s=null;const n=(e,i)=>{t.classList.toggle("pswp__preloader--"+e,i)};const o=t=>{if(i!==t){i=t;n("active",t)}};const r=()=>{var t;if(!(null!==(t=e.currSlide)&&void 0!==t&&t.content.isLoading())){o(false);if(s){clearTimeout(s);s=null}return}if(!s)s=setTimeout((()=>{var t;o(Boolean(null===(t=e.currSlide)||void 0===t?void 0:t.content.isLoading()));s=null}),e.options.preloaderDelay)};e.on("change",r);e.on("loadComplete",(t=>{if(e.currSlide===t.slide)r()}));if(e.ui)e.ui.updatePreloaderVisibility=r}};const Tt={name:"counter",order:5,onInit:(t,e)=>{e.on("change",(()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()}))}};function Ot(t,e){t.classList.toggle("pswp--zoomed-in",e)}class Mt{constructor(t){this.pswp=t;this.isRegistered=false;this.uiElementsData=[];this.items=[];this.updatePreloaderVisibility=()=>{};this._lastUpdatedZoomLevel=void 0}init(){const{pswp:t}=this;this.isRegistered=false;this.uiElementsData=[At,Dt,Lt,It,zt,Tt];t.dispatch("uiRegister");this.uiElementsData.sort(((t,e)=>(t.order||0)-(e.order||0)));this.items=[];this.isRegistered=true;this.uiElementsData.forEach((t=>{this.registerElement(t)}));t.on("change",(()=>{var e;null===(e=t.element)||void 0===e?void 0:e.classList.toggle("pswp--one-slide",1===t.getNumItems())}));t.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(t){if(this.isRegistered)this.items.push(new Pt(this.pswp,t));else this.uiElementsData.push(t)}_onZoomPanUpdate(){const{template:t,currSlide:e,options:i}=this.pswp;if(this.pswp.opener.isClosing||!t||!e)return;let{currZoomLevel:s}=e;if(!this.pswp.opener.isOpen)s=e.zoomLevels.initial;if(s===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=s;const n=e.zoomLevels.initial-e.zoomLevels.secondary;if(Math.abs(n)<.01||!e.isZoomable()){Ot(t,false);t.classList.remove("pswp--zoom-allowed");return}t.classList.add("pswp--zoom-allowed");const o=s===e.zoomLevels.initial?e.zoomLevels.secondary:e.zoomLevels.initial;Ot(t,o<=s);if("zoom"===i.imageClickAction||"zoom-or-close"===i.imageClickAction)t.classList.add("pswp--click-to-zoom")}}function Ft(t){const e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}function kt(t,e,i){const s=t.getBoundingClientRect();const n=s.width/e;const o=s.height/i;const r=n>o?n:o;const a=(s.width-e*r)/2;const h=(s.height-i*r)/2;const l={x:s.left+a,y:s.top+h,w:e*r};l.innerRect={w:s.width,h:s.height,x:a,y:h};return l}function Zt(t,e,i){const s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds)return s.thumbBounds;const{element:n}=e;let o;let r;if(n&&false!==i.options.thumbSelector){const t=i.options.thumbSelector||"img";r=n.matches(t)?n:n.querySelector(t)}r=i.applyFilters("thumbEl",r,e,t);if(r)if(!e.thumbCropped)o=Ft(r);else o=kt(r,e.width||e.w||0,e.height||e.h||0);return i.applyFilters("thumbBounds",o,e,t)}class Nt{constructor(t,e){this.type=t;this.defaultPrevented=false;if(e)Object.assign(this,e)}preventDefault(){this.defaultPrevented=true}}class Rt{constructor(){this._listeners={};this._filters={};this.pswp=void 0;this.options=void 0}addFilter(t,e,i=100){var s,n,o;if(!this._filters[t])this._filters[t]=[];null===(s=this._filters[t])||void 0===s?void 0:s.push({fn:e,priority:i});null===(n=this._filters[t])||void 0===n?void 0:n.sort(((t,e)=>t.priority-e.priority));null===(o=this.pswp)||void 0===o?void 0:o.addFilter(t,e,i)}removeFilter(t,e){if(this._filters[t])this._filters[t]=this._filters[t].filter((t=>t.fn!==e));if(this.pswp)this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;null===(i=this._filters[t])||void 0===i?void 0:i.forEach((t=>{e[0]=t.fn.apply(this,e)}));return e[0]}on(t,e){var i,s;if(!this._listeners[t])this._listeners[t]=[];null===(i=this._listeners[t])||void 0===i?void 0:i.push(e);null===(s=this.pswp)||void 0===s?void 0:s.on(t,e)}off(t,e){var i;if(this._listeners[t])this._listeners[t]=this._listeners[t].filter((t=>e!==t));null===(i=this.pswp)||void 0===i?void 0:i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const s=new Nt(t,e);null===(i=this._listeners[t])||void 0===i?void 0:i.forEach((t=>{t.call(this,s)}));return s}}class Wt{constructor(t,e){this.element=b("pswp__img pswp__img--placeholder",t?"img":"div",e);if(t){const e=this.element;e.decoding="async";e.alt="";e.src=t;e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){if(!this.element)return;if("IMG"===this.element.tagName){O(this.element,250,"auto");this.element.style.transformOrigin="0 0";this.element.style.transform=A(0,0,t/250)}else O(this.element,t,e)}destroy(){var t;if(null!==(t=this.element)&&void 0!==t&&t.parentNode)this.element.remove();this.element=null}}class Bt{constructor(t,e,i){this.instance=e;this.data=t;this.index=i;this.element=void 0;this.placeholder=void 0;this.slide=void 0;this.displayedImageWidth=0;this.displayedImageHeight=0;this.width=Number(this.data.w)||Number(this.data.width)||0;this.height=Number(this.data.h)||Number(this.data.height)||0;this.isAttached=false;this.hasSlide=false;this.isDecoding=false;this.state=k.IDLE;if(this.data.type)this.type=this.data.type;else if(this.data.src)this.type="image";else this.type="html";this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder())setTimeout((()=>{if(this.placeholder){this.placeholder.destroy();this.placeholder=void 0}}),1e3)}load(t,e){if(this.slide&&this.usePlaceholder())if(!this.placeholder){const t=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:false,this);this.placeholder=new Wt(t,this.slide.container)}else{const t=this.placeholder.element;if(t&&!t.parentElement)this.slide.container.prepend(t)}if(this.element&&!e)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented)return;if(this.isImageContent()){this.element=b("pswp__img","img");if(this.displayedImageWidth)this.loadImage(t)}else{this.element=b("pswp__content","div");this.element.innerHTML=this.data.html||""}if(e&&this.slide)this.slide.updateContentSize(true)}loadImage(t){if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const e=this.element;this.updateSrcsetSizes();if(this.data.srcset)e.srcset=this.data.srcset;e.src=this.data.src??"";e.alt=this.data.alt??"";this.state=k.LOADING;if(e.complete)this.onLoaded();else{e.onload=()=>{this.onLoaded()};e.onerror=()=>{this.onError()}}}setSlide(t){this.slide=t;this.hasSlide=true;this.instance=t.pswp}onLoaded(){this.state=k.LOADED;if(this.slide&&this.element){this.instance.dispatch("loadComplete",{slide:this.slide,content:this});if(this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode){this.append();this.slide.updateContentSize(true)}if(this.state===k.LOADED||this.state===k.ERROR)this.removePlaceholder()}}onError(){this.state=k.ERROR;if(this.slide){this.displayError();this.instance.dispatch("loadComplete",{slide:this.slide,isError:true,content:this});this.instance.dispatch("loadError",{slide:this.slide,content:this})}}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===k.LOADING,this)}isError(){return this.state===k.ERROR}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(!this.element)return;if(this.placeholder)this.placeholder.setDisplayedSize(t,e);if(this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented)return;O(this.element,t,e);if(this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t;this.displayedImageHeight=e;if(i)this.loadImage(false);else this.updateSrcsetSizes();if(this.slide)this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==k.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element;const e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10)){t.sizes=e+"px";t.dataset.largestUsedSize=String(e)}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(true)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=false;this.slide=void 0;if(this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;this.remove();if(this.placeholder){this.placeholder.destroy();this.placeholder=void 0}if(this.isImageContent()&&this.element){this.element.onload=null;this.element.onerror=null;this.element=void 0}}displayError(){if(this.slide){var t;let e=b("pswp__error-msg","div");e.innerText=(null===(t=this.instance.options)||void 0===t?void 0:t.errorMsg)??"";e=this.instance.applyFilters("contentErrorElement",e,this);this.element=b("pswp__content pswp__error-msg-container","div");this.element.appendChild(e);this.slide.container.innerText="";this.slide.container.appendChild(this.element);this.slide.updateContentSize(true);this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;this.isAttached=true;if(this.state===k.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;if(this.isImageContent())if(t&&this.slide&&(!this.slide.isActive||R())){this.isDecoding=true;this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=false;this.appendImage()}))}else this.appendImage();else if(this.slide&&!this.element.parentNode)this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;if(this.isImageContent()&&this.isDecoding&&!R())this.appendImage();else if(this.isError())this.load(false,true);if(this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){this.instance.dispatch("contentDeactivate",{content:this});if(this.slide&&this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=false;if(this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;if(this.element&&this.element.parentNode)this.element.remove();if(this.placeholder&&this.placeholder.element)this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;if(this.slide&&this.element&&!this.element.parentNode)this.slide.container.appendChild(this.element);if(this.state===k.LOADED||this.state===k.ERROR)this.removePlaceholder()}}const Ht=5;function Ut(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){n=new G(o,t,-1);let r;if(e.pswp)r=e.pswp.viewportSize;else r=H(o,e);const a=j(o,r,t,i);n.update(s.width,s.height,a)}s.lazyLoad();if(n)s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial));return s}function jt(t,e){const i=e.getItemData(t);if(e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return;return Ut(i,e,t)}class Vt{constructor(t){this.pswp=t;this.limit=Math.max(t.options.preload[0]+t.options.preload[1]+1,Ht);this._cachedItems=[]}updateLazy(t){const{pswp:e}=this;if(e.dispatch("lazyLoad").defaultPrevented)return;const{preload:i}=e.options;const s=void 0===t?true:t>=0;let n;for(n=0;n<=i[1];n++)this.loadSlideByIndex(e.currIndex+(s?n:-n));for(n=1;n<=i[0];n++)this.loadSlideByIndex(e.currIndex+(s?-n:n))}loadSlideByIndex(t){const e=this.pswp.getLoopedIndex(t);let i=this.getContentByIndex(e);if(!i){i=jt(e,this.pswp);if(i)this.addToCache(i)}}getContentBySlide(t){let e=this.getContentByIndex(t.index);if(!e){e=this.pswp.createContentFromData(t.data,t.index);this.addToCache(e)}e.setSlide(t);return e}addToCache(t){this.removeByIndex(t.index);this._cachedItems.push(t);if(this._cachedItems.length>this.limit){const t=this._cachedItems.findIndex((t=>!t.isAttached&&!t.hasSlide));if(-1!==t){const e=this._cachedItems.splice(t,1)[0];e.destroy()}}}removeByIndex(t){const e=this._cachedItems.findIndex((e=>e.index===t));if(-1!==e)this._cachedItems.splice(e,1)}getContentByIndex(t){return this._cachedItems.find((e=>e.index===t))}destroy(){this._cachedItems.forEach((t=>t.destroy()));this._cachedItems=[]}}class qt extends Rt{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;if(i&&"length"in i)e=i.length;else if(i&&"gallery"in i){if(!i.items)i.items=this._getGalleryDOMElements(i.gallery);if(i.items)e=i.items.length}const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new Bt(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let s={};if(Array.isArray(i))s=i[t];else if(i&&"gallery"in i){if(!i.items)i.items=this._getGalleryDOMElements(i.gallery);s=i.items[t]}let n=s;if(n instanceof Element)n=this._domElementToItemData(n);const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var e,i;if(null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector)return N(this.options.children,this.options.childSelector,t)||[];return[t]}_domElementToItemData(t){const e={element:t};const i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href;if(i.dataset.pswpSrcset)e.srcset=i.dataset.pswpSrcset;e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0;e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0;e.w=e.width;e.h=e.height;if(i.dataset.pswpType)e.type=i.dataset.pswpType;const s=t.querySelector("img");if(s){e.msrc=s.currentSrc||s.src;e.alt=s.getAttribute("alt")??""}if(i.dataset.pswpCropped||i.dataset.cropped)e.thumbCropped=true}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return Ut(t,this,e)}}const Gt=.003;class Xt{constructor(t){this.pswp=t;this.isClosed=true;this.isOpen=false;this.isClosing=false;this.isOpening=false;this._duration=void 0;this._useAnimation=false;this._croppedZoom=false;this._animateRootOpacity=false;this._animateBgOpacity=false;this._placeholder=void 0;this._opacityElement=void 0;this._cropContainer1=void 0;this._cropContainer2=void 0;this._thumbBounds=void 0;this._prepareOpen=this._prepareOpen.bind(this);t.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen();this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const t=this.pswp.currSlide;this.isOpen=false;this.isOpening=false;this.isClosing=true;this._duration=this.pswp.options.hideAnimationDuration;if(t&&t.currZoomLevel*t.width>=this.pswp.options.maxWidthToAnimate)this._duration=0;this._applyStartProps();setTimeout((()=>{this._start()}),this._croppedZoom?30:0)}_prepareOpen(){this.pswp.off("firstZoomPan",this._prepareOpen);if(!this.isOpening){const t=this.pswp.currSlide;this.isOpening=true;this.isClosing=false;this._duration=this.pswp.options.showAnimationDuration;if(t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate)this._duration=0;this._applyStartProps()}}_applyStartProps(){const{pswp:t}=this;const e=this.pswp.currSlide;const{options:i}=t;if("fade"===i.showHideAnimationType){i.showHideOpacity=true;this._thumbBounds=void 0}else if("none"===i.showHideAnimationType){i.showHideOpacity=false;this._duration=0;this._thumbBounds=void 0}else if(this.isOpening&&t._initialThumbBounds)this._thumbBounds=t._initialThumbBounds;else this._thumbBounds=this.pswp.getThumbBounds();this._placeholder=null===e||void 0===e?void 0:e.getPlaceholderElement();t.animations.stopAll();this._useAnimation=Boolean(this._duration&&this._duration>50);this._animateZoom=Boolean(this._thumbBounds)&&(null===e||void 0===e?void 0:e.content.usePlaceholder())&&(!this.isClosing||!t.mainScroll.isShifted());if(!this._animateZoom){this._animateRootOpacity=true;if(this.isOpening&&e){e.zoomAndPanToInitial();e.applyCurrentZoomPan()}}else this._animateRootOpacity=i.showHideOpacity??false;this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>Gt;this._opacityElement=this._animateRootOpacity?t.element:t.bg;if(!this._useAnimation){this._duration=0;this._animateZoom=false;this._animateBgOpacity=false;this._animateRootOpacity=true;if(this.isOpening){if(t.element)t.element.style.opacity=String(Gt);t.applyBgOpacity(1)}return}if(this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect){var s;this._croppedZoom=true;this._cropContainer1=this.pswp.container;this._cropContainer2=null===(s=this.pswp.currSlide)||void 0===s?void 0:s.holderElement;if(t.container){t.container.style.overflow="hidden";t.container.style.width=t.viewportSize.x+"px"}}else this._croppedZoom=false;if(this.isOpening){if(this._animateRootOpacity){if(t.element)t.element.style.opacity=String(Gt);t.applyBgOpacity(1)}else{if(this._animateBgOpacity&&t.bg)t.bg.style.opacity=String(Gt);if(t.element)t.element.style.opacity="1"}if(this._animateZoom){this._setClosedStateZoomPan();if(this._placeholder){this._placeholder.style.willChange="transform";this._placeholder.style.opacity=String(Gt)}}}else if(this.isClosing){if(t.mainScroll.itemHolders[0])t.mainScroll.itemHolders[0].el.style.display="none";if(t.mainScroll.itemHolders[2])t.mainScroll.itemHolders[2].el.style.display="none";if(this._croppedZoom)if(0!==t.mainScroll.x){t.mainScroll.resetPosition();t.mainScroll.resize()}}}_start(){if(this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName)new Promise((t=>{let e=false;let i=true;F(this._placeholder).finally((()=>{e=true;if(!i)t(true)}));setTimeout((()=>{i=false;if(e)t(true)}),50);setTimeout(t,250)})).finally((()=>this._initiate()));else this._initiate()}_initiate(){var t,e;null===(t=this.pswp.element)||void 0===t?void 0:t.style.setProperty("--pswp-transition-duration",this._duration+"ms");this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart");this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out"));null===(e=this.pswp.element)||void 0===e?void 0:e.classList.toggle("pswp--ui-visible",this.isOpening);if(this.isOpening){if(this._placeholder)this._placeholder.style.opacity="1";this._animateToOpenState()}else if(this.isClosing)this._animateToClosedState();if(!this._useAnimation)this._onAnimationComplete()}_onAnimationComplete(){const{pswp:t}=this;this.isOpen=this.isOpening;this.isClosed=this.isClosing;this.isOpening=false;this.isClosing=false;t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd");t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd"));if(this.isClosed)t.destroy();else if(this.isOpen){var e;if(this._animateZoom&&t.container){t.container.style.overflow="visible";t.container.style.width="100%"}null===(e=t.currSlide)||void 0===e?void 0:e.applyCurrentZoomPan()}}_animateToOpenState(){const{pswp:t}=this;if(this._animateZoom){if(this._croppedZoom&&this._cropContainer1&&this._cropContainer2){this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)");this._animateTo(this._cropContainer2,"transform","none")}if(t.currSlide){t.currSlide.zoomAndPanToInitial();this._animateTo(t.currSlide.container,"transform",t.currSlide.getCurrentTransform())}}if(this._animateBgOpacity&&t.bg)this._animateTo(t.bg,"opacity",String(t.options.bgOpacity));if(this._animateRootOpacity&&t.element)this._animateTo(t.element,"opacity","1")}_animateToClosedState(){const{pswp:t}=this;if(this._animateZoom)this._setClosedStateZoomPan(true);if(this._animateBgOpacity&&t.bgOpacity>.01&&t.bg)this._animateTo(t.bg,"opacity","0");if(this._animateRootOpacity&&t.element)this._animateTo(t.element,"opacity","0")}_setClosedStateZoomPan(t){if(!this._thumbBounds)return;const{pswp:e}=this;const{innerRect:i}=this._thumbBounds;const{currSlide:s,viewportSize:n}=e;if(this._croppedZoom&&i&&this._cropContainer1&&this._cropContainer2){const e=-n.x+(this._thumbBounds.x-i.x)+i.w;const s=-n.y+(this._thumbBounds.y-i.y)+i.h;const o=n.x-i.w;const r=n.y-i.h;if(t){this._animateTo(this._cropContainer1,"transform",A(e,s));this._animateTo(this._cropContainer2,"transform",A(o,r))}else{I(this._cropContainer1,e,s);I(this._cropContainer2,o,r)}}if(s){C(s.pan,i||this._thumbBounds);s.currZoomLevel=this._thumbBounds.w/s.width;if(t)this._animateTo(s.container,"transform",s.getCurrentTransform());else s.applyCurrentZoomPan()}}_animateTo(t,e,i){if(!this._duration){t.style[e]=i;return}const{animations:s}=this.pswp;const n={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{if(!s.activeAnimations.length)this._onAnimationComplete()},target:t};n[e]=i;s.startTransition(n)}}const $t={allowPanToNext:true,spacing:.1,loop:true,pinchToClose:true,closeOnVerticalDrag:true,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:true,arrowKeys:true,returnFocus:true,maxWidthToAnimate:4e3,clickToCloseNonZoomable:true,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class Kt extends qt{constructor(t){super();this.options=this._prepareOptions(t||{});this.offset={x:0,y:0};this._prevViewportSize={x:0,y:0};this.viewportSize={x:0,y:0};this.bgOpacity=1;this.currIndex=0;this.potentialIndex=0;this.isOpen=false;this.isDestroying=false;this.hasMouse=false;this._initialItemData={};this._initialThumbBounds=void 0;this.topBar=void 0;this.element=void 0;this.template=void 0;this.container=void 0;this.scrollWrap=void 0;this.currSlide=void 0;this.events=new B;this.animations=new xt;this.mainScroll=new pt(this);this.gestures=new ct(this);this.opener=new Xt(this);this.keyboard=new mt(this);this.contentLoader=new Vt(this)}init(){if(this.isOpen||this.isDestroying)return false;this.isOpen=true;this.dispatch("init");this.dispatch("beforeOpen");this._createMainStructure();let t="pswp--open";if(this.gestures.supportsTouch)t+=" pswp--touch";if(this.options.mainClass)t+=" "+this.options.mainClass;if(this.element)this.element.className+=" "+t;this.currIndex=this.options.index||0;this.potentialIndex=this.currIndex;this.dispatch("firstUpdate");this.scrollWheel=new bt(this);if(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())this.currIndex=0;if(!this.gestures.supportsTouch)this.mouseDetected();this.updateSize();this.offset.y=window.pageYOffset;this._initialItemData=this.getItemData(this.currIndex);this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0});this._initialThumbBounds=this.getThumbBounds();this.dispatch("initialLayout");this.on("openingAnimationEnd",(()=>{const{itemHolders:t}=this.mainScroll;if(t[0]){t[0].el.style.display="block";this.setContent(t[0],this.currIndex-1)}if(t[2]){t[2].el.style.display="block";this.setContent(t[2],this.currIndex+1)}this.appendHeavy();this.contentLoader.updateLazy();this.events.add(window,"resize",this._handlePageResize.bind(this));this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this));this.dispatch("bindEvents")}));if(this.mainScroll.itemHolders[1])this.setContent(this.mainScroll.itemHolders[1],this.currIndex);this.dispatch("change");this.opener.open();this.dispatch("afterInit");return true}getLoopedIndex(t){const e=this.getNumItems();if(this.options.loop){if(t>e-1)t-=e;if(t<0)t+=e}return L(t,0,e-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((t=>{var e;null===(e=t.slide)||void 0===e?void 0:e.appendHeavy()}))}goTo(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...t){var e;null===(e=this.currSlide)||void 0===e?void 0:e.zoomTo(...t)}toggleZoom(){var t;null===(t=this.currSlide)||void 0===t?void 0:t.toggleZoom()}close(){if(!this.opener.isOpen||this.isDestroying)return;this.isDestroying=true;this.dispatch("close");this.events.removeAll();this.opener.close()}destroy(){var t;if(!this.isDestroying){this.options.showHideAnimationType="none";this.close();return}this.dispatch("destroy");this._listeners={};if(this.scrollWrap){this.scrollWrap.ontouchmove=null;this.scrollWrap.ontouchend=null}null===(t=this.element)||void 0===t?void 0:t.remove();this.mainScroll.itemHolders.forEach((t=>{var e;null===(e=t.slide)||void 0===e?void 0:e.destroy()}));this.contentLoader.destroy();this.events.removeAll()}refreshSlideContent(t){this.contentLoader.removeByIndex(t);this.mainScroll.itemHolders.forEach(((e,i)=>{var s;let n=((null===(s=this.currSlide)||void 0===s?void 0:s.index)??0)-1+i;if(this.canLoop())n=this.getLoopedIndex(n);if(n===t){this.setContent(e,t,true);if(1===i){var o;this.currSlide=e.slide;null===(o=e.slide)||void 0===o?void 0:o.setIsActive(true)}}}));this.dispatch("change")}setContent(t,e,i){if(this.canLoop())e=this.getLoopedIndex(e);if(t.slide){if(t.slide.index===e&&!i)return;t.slide.destroy();t.slide=void 0}if(!this.canLoop()&&(e<0||e>=this.getNumItems()))return;const s=this.getItemData(e);t.slide=new X(s,e,this);if(e===this.currIndex)this.currSlide=t.slide;t.slide.append(t.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(t){if(this.isDestroying)return;const e=H(this.options,this);if(!t&&D(e,this._prevViewportSize))return;C(this._prevViewportSize,e);this.dispatch("beforeResize");C(this.viewportSize,this._prevViewportSize);this._updatePageScrollOffset();this.dispatch("viewportSize");this.mainScroll.resize(this.opener.isOpen);if(!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches)this.mouseDetected();this.dispatch("resize")}applyBgOpacity(t){this.bgOpacity=Math.max(t,0);if(this.bg)this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}mouseDetected(){if(!this.hasMouse){var t;this.hasMouse=true;null===(t=this.element)||void 0===t?void 0:t.classList.add("pswp--has_mouse")}}_handlePageResize(){this.updateSize();if(/iPhone|iPad|iPod/i.test(window.navigator.userAgent))setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(t,e){this.offset.x=t;this.offset.y=e;this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=b("pswp","div");this.element.setAttribute("tabindex","-1");this.element.setAttribute("role","dialog");this.template=this.element;this.bg=b("pswp__bg","div",this.element);this.scrollWrap=b("pswp__scroll-wrap","section",this.element);this.container=b("pswp__container","div",this.scrollWrap);this.scrollWrap.setAttribute("aria-roledescription","carousel");this.container.setAttribute("aria-live","off");this.container.setAttribute("id","pswp__items");this.mainScroll.appendHolders();this.ui=new Mt(this);this.ui.init();(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return Zt(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(t){if(window.matchMedia("(prefers-reduced-motion), (update: slow)").matches){t.showHideAnimationType="none";t.zoomAnimationDuration=0}return{...$t,...t}}}function Yt(t,e,i){const s=document.createElement(e);if(t)s.className=t;if(i)i.appendChild(s);return s}function Qt(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;if(void 0!==i)s+=` scale3d(${i},${i},1)`;return s}function Jt(t,e,i){t.style.width="number"===typeof e?`${e}px`:e;t.style.height="number"===typeof i?`${i}px`:i}const te={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function ee(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function ie(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"===typeof t?t:e;if(n)s=Array.from(i.querySelectorAll(n))}return s}function se(t){return"function"===typeof t&&t.prototype&&t.prototype.goTo}function ne(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class oe{constructor(t,e){this.type=t;this.defaultPrevented=false;if(e)Object.assign(this,e)}preventDefault(){this.defaultPrevented=true}}class re{constructor(){this._listeners={};this._filters={};this.pswp=void 0;this.options=void 0}addFilter(t,e,i=100){var s,n,o;if(!this._filters[t])this._filters[t]=[];null===(s=this._filters[t])||void 0===s?void 0:s.push({fn:e,priority:i});null===(n=this._filters[t])||void 0===n?void 0:n.sort(((t,e)=>t.priority-e.priority));null===(o=this.pswp)||void 0===o?void 0:o.addFilter(t,e,i)}removeFilter(t,e){if(this._filters[t])this._filters[t]=this._filters[t].filter((t=>t.fn!==e));if(this.pswp)this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;null===(i=this._filters[t])||void 0===i?void 0:i.forEach((t=>{e[0]=t.fn.apply(this,e)}));return e[0]}on(t,e){var i,s;if(!this._listeners[t])this._listeners[t]=[];null===(i=this._listeners[t])||void 0===i?void 0:i.push(e);null===(s=this.pswp)||void 0===s?void 0:s.on(t,e)}off(t,e){var i;if(this._listeners[t])this._listeners[t]=this._listeners[t].filter((t=>e!==t));null===(i=this.pswp)||void 0===i?void 0:i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const s=new oe(t,e);null===(i=this._listeners[t])||void 0===i?void 0:i.forEach((t=>{t.call(this,s)}));return s}}class ae{constructor(t,e){this.element=Yt("pswp__img pswp__img--placeholder",t?"img":"div",e);if(t){const e=this.element;e.decoding="async";e.alt="";e.src=t;e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){if(!this.element)return;if("IMG"===this.element.tagName){Jt(this.element,250,"auto");this.element.style.transformOrigin="0 0";this.element.style.transform=Qt(0,0,t/250)}else Jt(this.element,t,e)}destroy(){var t;if(null!==(t=this.element)&&void 0!==t&&t.parentNode)this.element.remove();this.element=null}}class he{constructor(t,e,i){this.instance=e;this.data=t;this.index=i;this.element=void 0;this.placeholder=void 0;this.slide=void 0;this.displayedImageWidth=0;this.displayedImageHeight=0;this.width=Number(this.data.w)||Number(this.data.width)||0;this.height=Number(this.data.h)||Number(this.data.height)||0;this.isAttached=false;this.hasSlide=false;this.isDecoding=false;this.state=te.IDLE;if(this.data.type)this.type=this.data.type;else if(this.data.src)this.type="image";else this.type="html";this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder())setTimeout((()=>{if(this.placeholder){this.placeholder.destroy();this.placeholder=void 0}}),1e3)}load(t,e){if(this.slide&&this.usePlaceholder())if(!this.placeholder){const t=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:false,this);this.placeholder=new ae(t,this.slide.container)}else{const t=this.placeholder.element;if(t&&!t.parentElement)this.slide.container.prepend(t)}if(this.element&&!e)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented)return;if(this.isImageContent()){this.element=Yt("pswp__img","img");if(this.displayedImageWidth)this.loadImage(t)}else{this.element=Yt("pswp__content","div");this.element.innerHTML=this.data.html||""}if(e&&this.slide)this.slide.updateContentSize(true)}loadImage(t){if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const e=this.element;this.updateSrcsetSizes();if(this.data.srcset)e.srcset=this.data.srcset;e.src=this.data.src??"";e.alt=this.data.alt??"";this.state=te.LOADING;if(e.complete)this.onLoaded();else{e.onload=()=>{this.onLoaded()};e.onerror=()=>{this.onError()}}}setSlide(t){this.slide=t;this.hasSlide=true;this.instance=t.pswp}onLoaded(){this.state=te.LOADED;if(this.slide&&this.element){this.instance.dispatch("loadComplete",{slide:this.slide,content:this});if(this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode){this.append();this.slide.updateContentSize(true)}if(this.state===te.LOADED||this.state===te.ERROR)this.removePlaceholder()}}onError(){this.state=te.ERROR;if(this.slide){this.displayError();this.instance.dispatch("loadComplete",{slide:this.slide,isError:true,content:this});this.instance.dispatch("loadError",{slide:this.slide,content:this})}}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===te.LOADING,this)}isError(){return this.state===te.ERROR}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(!this.element)return;if(this.placeholder)this.placeholder.setDisplayedSize(t,e);if(this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented)return;Jt(this.element,t,e);if(this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t;this.displayedImageHeight=e;if(i)this.loadImage(false);else this.updateSrcsetSizes();if(this.slide)this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==te.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element;const e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10)){t.sizes=e+"px";t.dataset.largestUsedSize=String(e)}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(true)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=false;this.slide=void 0;if(this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;this.remove();if(this.placeholder){this.placeholder.destroy();this.placeholder=void 0}if(this.isImageContent()&&this.element){this.element.onload=null;this.element.onerror=null;this.element=void 0}}displayError(){if(this.slide){var t;let e=Yt("pswp__error-msg","div");e.innerText=(null===(t=this.instance.options)||void 0===t?void 0:t.errorMsg)??"";e=this.instance.applyFilters("contentErrorElement",e,this);this.element=Yt("pswp__content pswp__error-msg-container","div");this.element.appendChild(e);this.slide.container.innerText="";this.slide.container.appendChild(this.element);this.slide.updateContentSize(true);this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;this.isAttached=true;if(this.state===te.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;if(this.isImageContent())if(t&&this.slide&&(!this.slide.isActive||ne())){this.isDecoding=true;this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=false;this.appendImage()}))}else this.appendImage();else if(this.slide&&!this.element.parentNode)this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;if(this.isImageContent()&&this.isDecoding&&!ne())this.appendImage();else if(this.isError())this.load(false,true);if(this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){this.instance.dispatch("contentDeactivate",{content:this});if(this.slide&&this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=false;if(this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;if(this.element&&this.element.parentNode)this.element.remove();if(this.placeholder&&this.placeholder.element)this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;if(this.slide&&this.element&&!this.element.parentNode)this.slide.container.appendChild(this.element);if(this.state===te.LOADED||this.state===te.ERROR)this.removePlaceholder()}}function le(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function ce(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);if(e[i])o=e[i]}return Number(o)||0}function de(t,e,i,s){return{x:e.x-ce("left",t,e,i,s)-ce("right",t,e,i,s),y:e.y-ce("top",t,e,i,s)-ce("bottom",t,e,i,s)}}const pe=4e3;class ue{constructor(t,e,i,s){this.pswp=s;this.options=t;this.itemData=e;this.index=i;this.panAreaSize=null;this.elementSize=null;this.fit=1;this.fill=1;this.vFill=1;this.initial=1;this.secondary=1;this.max=1;this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s;this.panAreaSize=i;const n=i.x/s.x;const o=i.y/s.y;this.fit=Math.min(1,n<o?n:o);this.fill=Math.min(1,n>o?n:o);this.vFill=Math.min(1,o);this.initial=this._getInitial();this.secondary=this._getSecondary();this.max=Math.max(this.initial,this.secondary,this._getMax());this.min=Math.min(this.fit,this.initial,this.secondary);if(this.pswp)this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const e=t+"ZoomLevel";const i=this.options[e];if(!i)return;if("function"===typeof i)return i(this);if("fill"===i)return this.fill;if("fit"===i)return this.fit;return Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");if(t)return t;t=Math.min(1,3*this.fit);if(this.elementSize&&t*this.elementSize.x>pe)t=pe/this.elementSize.x;return t}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}function fe(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){n=new ue(o,t,-1);let r;if(e.pswp)r=e.pswp.viewportSize;else r=le(o,e);const a=de(o,r,t,i);n.update(s.width,s.height,a)}s.lazyLoad();if(n)s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial));return s}function me(t,e){const i=e.getItemData(t);if(e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return;return fe(i,e,t)}class ve extends re{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;if(i&&"length"in i)e=i.length;else if(i&&"gallery"in i){if(!i.items)i.items=this._getGalleryDOMElements(i.gallery);if(i.items)e=i.items.length}const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new he(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let s={};if(Array.isArray(i))s=i[t];else if(i&&"gallery"in i){if(!i.items)i.items=this._getGalleryDOMElements(i.gallery);s=i.items[t]}let n=s;if(n instanceof Element)n=this._domElementToItemData(n);const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var e,i;if(null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector)return ie(this.options.children,this.options.childSelector,t)||[];return[t]}_domElementToItemData(t){const e={element:t};const i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href;if(i.dataset.pswpSrcset)e.srcset=i.dataset.pswpSrcset;e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0;e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0;e.w=e.width;e.h=e.height;if(i.dataset.pswpType)e.type=i.dataset.pswpType;const s=t.querySelector("img");if(s){e.msrc=s.currentSrc||s.src;e.alt=s.getAttribute("alt")??""}if(i.dataset.pswpCropped||i.dataset.cropped)e.thumbCropped=true}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return fe(t,this,e)}}class ge extends ve{constructor(t){super();this.options=t||{};this._uid=0;this.shouldOpen=false;this._preloadedContent=void 0;this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){ie(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.addEventListener("click",this.onThumbnailsClick,false)}))}onThumbnailsClick(t){if(ee(t)||window.pswp||false===window.navigator.onLine)return;let e={x:t.clientX,y:t.clientY};if(!e.x&&!e.y)e=null;let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const s={gallery:t.currentTarget};if(i>=0){t.preventDefault();this.loadAndOpen(i,s,e)}}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const e=t.target;const i=ie(this.options.children,this.options.childSelector,t.currentTarget);const s=i.findIndex((t=>t===e||t.contains(e)));if(-1!==s)return s;else if(this.options.children||this.options.childSelector)return-1;return 0}loadAndOpen(t,e,i){if(window.pswp)return false;this.options.index=t;this.options.initialPointerPos=i;this.shouldOpen=true;this.preload(t,e);return true}preload(t,e){const{options:i}=this;if(e)i.dataSource=e;const s=[];const n=typeof i.pswpModule;if(se(i.pswpModule))s.push(Promise.resolve(i.pswpModule));else if("string"===n)throw new Error("pswpModule as string is no longer supported");else if("function"===n)s.push(i.pswpModule());else throw new Error("pswpModule is not valid");if("function"===typeof i.openPromise)s.push(i.openPromise());if(false!==i.preloadFirstSlide&&t>=0)this._preloadedContent=me(t,this);const o=++this._uid;Promise.all(s).then((t=>{if(this.shouldOpen){const e=t[0];this._openPhotoswipe(e,o)}}))}_openPhotoswipe(t,e){if(e!==this._uid&&this.shouldOpen)return;this.shouldOpen=false;if(window.pswp)return;const i="object"===typeof t?new t.default(this.options):new t(this.options);this.pswp=i;window.pswp=i;Object.keys(this._listeners).forEach((t=>{var e;null===(e=this._listeners[t])||void 0===e?void 0:e.forEach((e=>{i.on(t,e)}))}));Object.keys(this._filters).forEach((t=>{var e;null===(e=this._filters[t])||void 0===e?void 0:e.forEach((e=>{i.addFilter(t,e.fn,e.priority)}))}));if(this._preloadedContent){i.contentLoader.addToCache(this._preloadedContent);this._preloadedContent=void 0}i.on("destroy",(()=>{this.pswp=void 0;delete window.pswp}));i.init()}destroy(){var t;null===(t=this.pswp)||void 0===t?void 0:t.destroy();this.shouldOpen=false;this._listeners={};ie(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.removeEventListener("click",this.onThumbnailsClick,false)}))}}window.FoxTheme=window.FoxTheme||{};window.FoxTheme={Flickity:n(),Slider:p,AnimateLoading:e(),Notification:new h,ProductHelper:{getVariantFromOptionArray:v},Confetti:x,PhotoSwipe:Kt,PhotoSwipeLightbox:ge};window.FoxThemeEvents=window.FoxThemeEvents||new l;window.FoxTheme.loadjs=__loadjs;(function t(){const{FoxThemeSettings:e}=window;try{e.colorSwatches=[];e.imageSwatches=[];e.custom_colors.split(",").filter(Boolean).forEach((t=>{var i;const[s,n]=t.split(":");e.colorSwatches.push({key:s.trim().toLowerCase(),value:(null===n||void 0===n?void 0:null===(i=n.trim)||void 0===i?void 0:i.call(n))||""})}));Object.keys(e).forEach((t=>{if(t.includes("custom_image")&&!t.includes(".png"))if(e[`${t}.png`])e.imageSwatches.push({key:e[t].toLowerCase(),value:e[`${t}.png`]})}))}catch(t){void 0}})()}()})();